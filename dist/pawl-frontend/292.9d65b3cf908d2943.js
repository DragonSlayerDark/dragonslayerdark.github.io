"use strict";(self.webpackChunkpawl_frontend=self.webpackChunkpawl_frontend||[]).push([[292],{7292:(K,M,i)=>{i.r(M),i.d(M,{ClientModule:()=>vt});var p=i(9808),m=i(3257),u=i(5642),T=i(5620),C=i(9300),S=i(4004),v=i(9119),Z=i(2786),n=i(2340),w=i(9937),t=i(5e3),W=i(6988),U=i(9850);const $=function(e){return[e]},O=function(e){return{active:e}};function G(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.NdJ("click",function(){const h=t.CHM(o).index,P=t.oxw();return t.KtG(P.setActiveIcon(h))}),t._UZ(2,"img",4),t.qZA(),t.TgZ(3,"div",5)(4,"span",6),t._uU(5),t.qZA()()()}if(2&e){const o=c.$implicit,s=c.index,l=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(4,$,o.route))("ngClass",t.VKq(6,O,l.activeIconIndex===s)),t.xp6(1),t.Q6J("src",o.src,t.LSH),t.xp6(3),t.Oqu(o.label)}}let k=(()=>{class e{constructor(){this.selectedPetIDRoute=null!=localStorage.getItem(u.D5.SELECTED_PET_ID)?"/my-pets/vaccine-card/"+localStorage.getItem(u.D5.SELECTED_PET_ID):"/my-pets",this.ICONS=[{src:"assets/pawprint.svg",route:"/my-pets/list",label:"Mascota"},{src:"assets/Grupo 1248.svg",route:this.selectedPetIDRoute,label:"Vacunas"},{src:"assets/Grupo 1249.svg",route:"/shop/products",label:"Tienda"},{src:"assets/icons/notifications.svg",route:"/profile/notifications",label:"Notificaciones"},{src:"assets/Grupo 1246.svg",route:"/profile",label:"Usuario"}],this.activeIconIndex=-1}ngOnInit(){}setActiveIcon(o){this.activeIconIndex=o}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-footer"]],decls:2,vars:1,consts:[[1,"grid","grid-cols-5","p-3","pb-0"],["class","pb-4",4,"ngFor","ngForOf"],[1,"pb-4"],[1,"flex","justify-center","items-center","mb-2",3,"routerLink","ngClass","click"],[1,"h-6",3,"src"],[1,"flex","justify-center","items-center"],[1,"text-gray-400","text-xs"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.YNc(1,G,6,8,"div",1),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",s.ICONS))},dependencies:[p.mk,p.sg,m.rH],styles:[".active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(58%) sepia(48%) saturate(325%) hue-rotate(249deg) brightness(84%) contrast(87%);height:30px!important;margin-bottom:5px;transition:all .5s}.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ab78ae!important;font-weight:600!important}.active[_ngcontent-%COMP%]{transition:all .5s;margin-top:-40px;padding-top:20px;background:white;border-top-left-radius:20px;border-top-right-radius:20px;box-shadow:0 -39px 41px -28px #00000080}.notifications-icon[_ngcontent-%COMP%]{color:#fff}"]}),e})();var j=i(6789);class H{constructor(){}back(){window.history.back()}}var B=i(791),z=i(8505),V=i(4749),X=i(7403),q=i(8852),tt=i(8454);function et(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"span",19),t.NdJ("click",function(){const h=t.CHM(o).$implicit,P=t.oxw(3);return t.KtG(P.changePet(h.id,h.attributes.pet_type.data.id))}),t._uU(1),t._UZ(2,"br"),t.qZA()}if(2&e){const o=c.$implicit;t.xp6(1),t.hij(" ",o.attributes.name," ")}}function nt(e,c){if(1&e&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2," Tienda "),t.qZA(),t.TgZ(3,"div",14)(4,"label",15),t._uU(5),t._UZ(6,"input",16),t.qZA(),t.TgZ(7,"div",17)(8,"p"),t.YNc(9,et,3,1,"span",18),t.qZA()()()()),2&e){const o=c.ngIf,s=t.oxw().ngIf;t.xp6(5),t.Oqu(s.attributes.name),t.xp6(4),t.Q6J("ngForOf",o.pets)}}const ot=function(){return{"border-color":"#45B45A"}},it=function(e){return{pets:e}};function st(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",9),t._UZ(2,"img",10),t.ALo(3,"image"),t.qZA(),t.YNc(4,nt,10,2,"div",11),t.ALo(5,"async"),t.BQk()),2&e){const o=c.ngIf,s=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.DdM(7,ot))("src",t.lcZ(3,3,null==o.attributes.photo.data||null==o.attributes.photo.data.attributes?null:o.attributes.photo.data.attributes.url),t.LSH),t.xp6(2),t.Q6J("ngIf",t.VKq(8,it,t.lcZ(5,5,s.pets$)))}}function a(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"span",20),t._uU(2),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const o=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,1,o.cartItemsLength)," ")}}function f(e,c){1&e&&(t.TgZ(0,"span",20),t._uU(1," 0 "),t.qZA())}let r=(()=>{class e extends H{constructor(o,s,l,h,P){super(),this.store=o,this.router=s,this.auth=l,this.petService=h,this.app=P,this.cartItemsLength=this.store.pipe((0,T.Ys)(B.p)),this.selectedPet$=null,this.selectedPetID=localStorage.getItem(u.D5.SELECTED_PET_ID),this.cart=localStorage.getItem("cart")}ngOnInit(){this.store.dispatch((0,V.EI)({userID:this.auth.getUser().id})),this.pet$=this.store.pipe((0,T.Ys)((0,j.KN)(this.selectedPetID)),(0,z.b)(o=>console.log(o))),this.pets$=this.store.select(j.bC).pipe((0,C.h)(o=>0!=o.length),(0,S.U)(o=>{let s=localStorage.getItem(u.D5.SELECTED_PET_ID)||o[0].id,l=[...o];if(s){let h=l.find(P=>P.id==s);l=l.filter(P=>P.id!=h.id)}return l}))}goToCart(){this.router.navigate(["/shop/cart"])}changePet(o,s){this.petService.setPet(o,s),this.router.navigate(["/shop","products"]).then(()=>{location.reload()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.yh),t.Y36(m.F0),t.Y36(U.e),t.Y36(X.Y),t.Y36(q.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header-shop"]],features:[t.qOj],decls:12,vars:7,consts:[[1,"grid","grid-cols-12","gap-4","m-6","mt-8","mb-0"],[1,"col-span-1","flex","items-center","justify-center",3,"click"],["src","assets/back.svg",1,"w-7"],[4,"ngIf"],[1,"col-span-2","flex","items-center","justify-center"],[1,"flex",3,"click"],["src","assets/icons/shopcart.svg",1,"h-6","float-right","m-2"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"col-span-4","flex","items-center","justify-center"],[1,"h-20","w-20","rounded-full","object-cover","border-4","object-top","bg-white",3,"ngStyle","src"],["class","col-span-4 items-center justify-center",4,"ngIf"],[1,"col-span-4","items-center","justify-center"],[1,"col-span-1","font-bold","text-2xl","text-left",2,"color","#ffffff"],[1,"accordeon"],[1,"accordeon_link"],["type","checkbox"],[1,"accordeon_item"],["class","accordeon_option",3,"click",4,"ngFor","ngForOf"],[1,"accordeon_option",3,"click"],[1,"cartitems-number"]],template:function(o,s){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return s.back()}),t._UZ(2,"img",2),t.qZA(),t.YNc(3,st,6,10,"ng-container",3),t.ALo(4,"async"),t.TgZ(5,"div",4)(6,"div",5),t.NdJ("click",function(){return s.goToCart()}),t._UZ(7,"img",6),t.YNc(8,a,4,3,"ng-container",7),t.ALo(9,"async"),t.YNc(10,f,2,0,"ng-template",null,8,t.W1O),t.qZA()()()),2&o){const l=t.MAs(11);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,3,s.selectedPetID&&s.pet$)),t.xp6(5),t.Q6J("ngIf",t.lcZ(9,5,s.cartItemsLength))("ngIfElse",l)}},dependencies:[p.sg,p.O5,p.PC,p.Ov,tt.I]}),e})();const g=function(){return["/profile/editUser"]};function E(e,c){if(1&e&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"img",12),t.qZA()(),t.TgZ(4,"div",13)(5,"span",14),t._uU(6),t.qZA(),t.TgZ(7,"span",15),t._uU(8),t.qZA(),t.TgZ(9,"button",16),t._uU(10,"Editar Perfil"),t.qZA()()()),2&e){const o=t.oxw(2);t.Q6J("routerLink",t.DdM(4,g)),t.xp6(6),t.AsE(" ",null==o.user?null:o.user.firstName," ",null==o.user?null:o.user.lastName," "),t.xp6(2),t.hij(" ",null==o.user?null:o.user.email," ")}}function x(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mi Perfil "),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"span",7),t.qZA()(),t.YNc(9,E,11,5,"div",8),t.BQk()}if(2&e){const o=t.oxw();t.xp6(9),t.Q6J("ngIf","/profile/editUser"!==o.router.url)}}const b=function(){return["/profile/createAddress"]};function _(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Direcciones "),t.qZA()(),t.TgZ(7,"div",17),t._UZ(8,"img",18),t.qZA()(),t.BQk()}2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(1,b)))}const y=function(){return["/add-pet"]};function I(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Mascotas "),t.qZA()(),t.TgZ(7,"div",17),t._UZ(8,"img",18),t.qZA()(),t.BQk()}2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(1,y)))}function L(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Metodos de Pago "),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"span",7),t.qZA()(),t.BQk()}}const D=function(){return["/shop/products"]};function A(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Pedidos "),t.qZA()(),t.TgZ(7,"div",17),t._UZ(8,"img",18),t.qZA()(),t.BQk()}2&e&&(t.xp6(7),t.Q6J("routerLink",t.DdM(1,D)))}function N(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Ajustes "),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"span",7),t.qZA()(),t.BQk()}}function J(e,c){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.back())}),t.qZA()(),t.TgZ(4,"div",5)(5,"h1",6),t._uU(6," Mis Notificaciones "),t.qZA()(),t.TgZ(7,"div",3),t._UZ(8,"span",7),t.qZA()(),t.BQk()}}const Q=function(){return["/profile/user","/profile/editUser"]},Y=function(e){return["/profile/adresslist","/profile/createAddress",e]},F=function(){return["/profile/ajustes","/profile/editPassword"]},rt=function(){return["/profile/notifications"]};let d=(()=>{class e extends H{constructor(o,s){super(),this.auth=o,this.router=s,this.user=this.auth.getUser(),"/profile/editAddress/"===this.router.url.replace(/\d+/g,"")&&(this.addressId=JSON.parse(localStorage.getItem("addressObj")).id)}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(U.e),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header-profile"]],features:[t.qOj],decls:8,vars:13,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"grid","grid-cols-6","gap-4","m-6","mt-8","mb-0"],[1,"col-span-1","flex","items-center","justify-center"],["src","assets/back.svg","alt","",1,"h-7",3,"click"],[1,"col-span-4","flex","items-center","justify-center"],[1,"font-bold","text-2xl","text-center",2,"color","#ffffff"],[1,"w-20"],["class"," grid grid-cols-12 gap-4 m-2",3,"routerLink",4,"ngIf"],[1,"grid","grid-cols-12","gap-4","m-2",3,"routerLink"],[1,"col-span-4"],[1,"w-32","h-32","rounded-full","flex","justify-center","items-center","m-auto",2,"background-color","#ffffff","border","solid 5px #FCAF3D"],["src","assets/Grupo 1246.svg",1,"w-20"],[1,"col-span-8","pt-0"],[1,"font-bold","text-xl","text-center","w-full","block",2,"color","#ffffff"],[1,"text-medium","text-sm","w-full","block","text-center",2,"color","#ffffff"],[1,"max-w-fit","mx-auto","single_add_button","my-4","px-6","p-4","block",2,"margin-left","auto"],[1,"col-span-1","flex","items-center","justify-center",3,"routerLink"],["src","assets/add.svg","alt","",1,"h-10","w-20"]],template:function(o,s){1&o&&(t.ynx(0,0),t.YNc(1,x,10,1,"ng-container",1),t.YNc(2,_,9,2,"ng-container",1),t.YNc(3,I,9,2,"ng-container",1),t.YNc(4,L,9,0,"ng-container",1),t.YNc(5,A,9,2,"ng-container",1),t.YNc(6,N,9,0,"ng-container",1),t.YNc(7,J,9,0,"ng-container",1),t.BQk()),2&o&&(t.Q6J("ngSwitch",s.router.url),t.xp6(1),t.Q6J("ngSwitchCase",t.DdM(8,Q).includes(s.router.url)?s.router.url:!s.router.url),t.xp6(1),t.Q6J("ngSwitchCase",t.VKq(9,Y,"/profile/editAddress/"+s.addressId).includes(s.router.url)?s.router.url:!s.router.url),t.xp6(1),t.Q6J("ngSwitchCase","/profile/petslist"),t.xp6(1),t.Q6J("ngSwitchCase","/profile/paymentslist"),t.xp6(1),t.Q6J("ngSwitchCase","/profile/orderlist"),t.xp6(1),t.Q6J("ngSwitchCase",t.DdM(11,F).includes(s.router.url)?s.router.url:!s.router.url),t.xp6(1),t.Q6J("ngSwitchCase",t.DdM(12,rt).includes(s.router.url)?s.router.url:!s.router.url))},dependencies:[p.O5,p.RF,p.n9,m.rH]}),e})();var ct=i(2943);const pt=function(){return["/add-pet"]};let at=(()=>{class e extends H{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header-pets"]],features:[t.qOj],decls:10,vars:2,consts:[[1,"grid","grid-cols-6","gap-4","m-6","mt-8","mb-0"],[1,"col-span-1","flex","items-center","justify-center"],["src","assets/back.svg","alt","",1,"h-7",3,"click"],[1,"col-span-4","flex","items-center","justify-center"],[1,"font-bold","text-2xl","text-center",2,"color","#ffffff"],[1,"col-span-1","flex","items-center","justify-center",3,"routerLink"],["src","assets/add.svg","alt","",1,"h-10"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"img",2),t.NdJ("click",function(){return s.back()}),t.qZA()(),t.TgZ(3,"div",3)(4,"h1",4),t._uU(5," Mis Mascotas "),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div"),t._UZ(9,"app-pets"),t.qZA()),2&o&&(t.xp6(6),t.Q6J("routerLink",t.DdM(1,pt)))},dependencies:[m.rH,ct.n]}),e})();function R(e,c){1&e&&t._UZ(0,"app-header-pets")}function lt(e,c){1&e&&t._UZ(0,"app-header-shop")}function dt(e,c){1&e&&t._UZ(0,"app-header-profile")}function ut(e,c){1&e&&(t.ynx(0),t._UZ(1,"img",4),t.BQk())}const gt=function(e,c){return{"header-normal":e,"header-section":c}};let mt=(()=>{class e{constructor(){this.PAWLClientRoutes=u.aL}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header"]],inputs:{hsection:"hsection"},decls:6,vars:8,consts:[[1,"flex","justify-center","items-top","bg-contain","header",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["src","assets/logo.png","alt","",1,"h-full","mt-6"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0),t.ynx(1,1),t.YNc(2,R,1,0,"app-header-pets",2),t.YNc(3,lt,1,0,"app-header-shop",2),t.YNc(4,dt,1,0,"app-header-profile",2),t.YNc(5,ut,2,0,"ng-container",3),t.BQk(),t.qZA()),2&o&&(t.Q6J("ngClass",t.WLB(5,gt,"normal"==s.hsection,"normal"!=s.hsection)),t.xp6(1),t.Q6J("ngSwitch",s.hsection),t.xp6(1),t.Q6J("ngSwitchCase",s.PAWLClientRoutes.MY_PETS),t.xp6(1),t.Q6J("ngSwitchCase",s.PAWLClientRoutes.SHOP),t.xp6(1),t.Q6J("ngSwitchCase",s.PAWLClientRoutes.PROFILE))},dependencies:[p.mk,p.RF,p.n9,p.ED,r,d,at],styles:[".header[_ngcontent-%COMP%]{background-image:url(bg-main.3cf4f9fa69b48535.svg);background-repeat:no-repeat;background-position:-30px -10px;background-size:120% 120%}.header-normal[_ngcontent-%COMP%]{min-height:120px}.header-section[_ngcontent-%COMP%]{min-height:220px}"]}),e})();const ft=[{path:"",component:(()=>{class e{constructor(o,s,l){this.store=o,this.swPush=s,this.auth=l,this.VAPID_PUBLIC_KEY="BP3PXmOpJRum6yBC1Rzqor2bfnWGo4wGMSr0c51wrzH1HCM9clz1c6MvyrCVLIL3kToLmf_YzU2zLIY4Gde1tCw",this.route=this.store.pipe((0,T.Ys)(v.gi)).pipe((0,C.h)(h=>!!h),(0,S.U)(h=>h.split("/")[1].split("/")[0]))}ngOnInit(){navigator.serviceWorker&&(console.log(navigator.serviceWorker),this.subscribeNotifications())}notificar(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!");window.Notification?"granted"===Notification.permission?new Notification("Hola Mundo - granted"):"denied"!==Notification.permission&&Notification.requestPermission(o=>{"granted"===o&&(this.subscribeNotifications(),new Notification("Hola Mundo - pregunta"))}):console.log("este navegador no soporta notificaciones")}subscribeNotifications(){this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then(o=>{JSON.parse(JSON.stringify(o)),this.store.dispatch((0,Z.Z6)({devicePushNotifications:{users_permissions_user:this.auth.getUser().id,subscription:o}}))}).catch(o=>console.error("uy :( ",o)),this.swPush.messages.subscribe(o=>{let h=new Notification("Pawl",{body:o.message,icon:"assets/logo.png",image:`${n.N.server}${o.Metadata.photo||void 0}`,badge:"assets/logo.png",vibrate:[75,75,75,75,75,75,75,75,150,150,150,450,75,75,75,75,75,525],openUrl:"/",data:{url:"https://google.com",id:o.user_id}});this.store.dispatch((0,w.J1)({id:this.auth.getUser().id})),h.onclick=function(P){P.preventDefault(),window.open("https://mypawl.web.app/#/home","_blank")}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.yh),t.Y36(W.Mk),t.Y36(U.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-client"]],decls:5,vars:3,consts:[[3,"hsection"],[1,"container","mx-auto"],[1,"fixed","bottom-0","left-0","right-0","bg-white","shadow-2xl","shadow-black","pt-2"]],template:function(o,s){1&o&&(t._UZ(0,"app-header",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t._UZ(3,"router-outlet"),t.qZA(),t._UZ(4,"app-footer",2)),2&o&&t.Q6J("hsection",t.lcZ(1,1,s.route))},dependencies:[m.lC,k,mt,p.Ov],styles:[".container[_ngcontent-%COMP%]{min-height:calc(100vh + 150px)}"]}),e})(),children:[{path:"",redirectTo:u.aL.HOME,pathMatch:"full"},{path:u.aL.HOME,loadChildren:()=>i.e(888).then(i.bind(i,9888)).then(e=>e.HomeModule)},{path:u.aL.MY_PETS,loadChildren:()=>Promise.all([i.e(75),i.e(687),i.e(284),i.e(592),i.e(908)]).then(i.bind(i,6908)).then(e=>e.MyPetsModule)},{path:u.aL.SHOP,loadChildren:()=>Promise.all([i.e(592),i.e(515)]).then(i.bind(i,5515)).then(e=>e.ShopModule)},{path:u.aL.PROFILE,loadChildren:()=>Promise.all([i.e(75),i.e(687),i.e(758)]).then(i.bind(i,4758)).then(e=>e.ProfileModule)},{path:u.aL.ADD_PET,loadChildren:()=>Promise.all([i.e(75),i.e(284),i.e(889)]).then(i.bind(i,8889)).then(e=>e.AddPetModule)},{path:u.aL.PAYMENT,loadChildren:()=>Promise.all([i.e(75),i.e(687),i.e(758),i.e(339)]).then(i.bind(i,2339)).then(e=>e.PaymentModule)}]}];let ht=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(ft),m.Bz]}),e})();var _t=i(2271);let vt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,ht,_t.m]}),e})()},2943:(K,M,i)=>{i.d(M,{n:()=>st});var p=i(9646),m=i(9300),u=i(4004),T=i(8505),C=i(5642),S=i(4749),v=i(6789),Z=i(2340),n=i(5e3),w=i(5620),t=i(3257),W=i(9850),U=i(7403),$=i(8852),O=i(9808),G=i(8454);const k=function(){return{"border-color":"#45B45A"}},j=function(){return{"background-image":"url(assets/my-pets/bg-g.svg)"}};function H(a,f){if(1&a&&(n.TgZ(0,"div"),n._UZ(1,"img",9),n.ALo(2,"image"),n._UZ(3,"div",10),n.qZA()),2&a){const r=n.oxw().ngIf;n.xp6(1),n.Q6J("src",n.lcZ(2,3,null==r.attributes.photo.data||null==r.attributes.photo.data.attributes?null:r.attributes.photo.data.attributes.url),n.LSH)("ngStyle",n.DdM(5,k)),n.xp6(2),n.Q6J("ngStyle",n.DdM(6,j))}}const B=function(){return{"border-color":"#b3bdb5"}};function z(a,f){if(1&a&&(n.TgZ(0,"div"),n._UZ(1,"img",11),n.ALo(2,"image"),n.qZA()),2&a){const r=n.oxw().ngIf;n.xp6(1),n.Q6J("src",n.lcZ(2,2,null==r.attributes.photo.data||null==r.attributes.photo.data.attributes?null:r.attributes.photo.data.attributes.url),n.LSH)("ngStyle",n.DdM(4,B))}}function V(a,f){if(1&a){const r=n.EpF();n.TgZ(0,"div",6)(1,"div",7),n.NdJ("click",function(){const x=n.CHM(r).ngIf,b=n.oxw();return n.KtG(b.selectedPets(x.id,x.attributes.pet_type.data.id,x))}),n.YNc(2,H,4,7,"div",8),n.YNc(3,z,3,5,"div",8),n.qZA()()}if(2&a){const r=f.ngIf;n.xp6(2),n.Q6J("ngIf",!1===r.attributes.memorial||null===r.attributes.memorial),n.xp6(1),n.Q6J("ngIf",!0===r.attributes.memorial)}}function X(a,f){if(1&a&&(n._UZ(0,"img",15),n.ALo(1,"image")),2&a){const r=n.oxw(2).$implicit;n.Q6J("src",n.lcZ(1,2,null==r.attributes.photo.data||null==r.attributes.photo.data.attributes?null:r.attributes.photo.data.attributes.url),n.LSH)("ngStyle",n.DdM(4,k))}}function q(a,f){if(1&a&&(n.TgZ(0,"div"),n.YNc(1,X,2,5,"img",14),n.qZA()),2&a){const r=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",r.attributes.photo)}}function tt(a,f){if(1&a&&(n._UZ(0,"img",15),n.ALo(1,"image")),2&a){const r=n.oxw(2).$implicit;n.Q6J("src",n.lcZ(1,2,null==r.attributes.photo.data||null==r.attributes.photo.data.attributes?null:r.attributes.photo.data.attributes.url),n.LSH)("ngStyle",n.DdM(4,B))}}function et(a,f){if(1&a&&(n.TgZ(0,"div"),n.YNc(1,tt,2,5,"img",14),n.qZA()),2&a){const r=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",r.attributes.photo)}}function nt(a,f){if(1&a){const r=n.EpF();n.TgZ(0,"div",12),n.NdJ("click",function(){const x=n.CHM(r).$implicit,b=n.oxw();return n.KtG(b.selectPet(x.id,x.attributes.pet_type.data.id,x))}),n.YNc(1,q,2,1,"div",8),n.YNc(2,et,2,1,"div",8),n.TgZ(3,"div",13),n._uU(4),n.qZA()()}if(2&a){const r=f.$implicit;n.xp6(1),n.Q6J("ngIf",!1===r.attributes.memorial||null===r.attributes.memorial),n.xp6(1),n.Q6J("ngIf",!0===r.attributes.memorial),n.xp6(2),n.hij(" ",r.attributes.name," ")}}const ot=function(){return["/add-pet"]};function it(a,f){1&a&&(n.TgZ(0,"div",16)(1,"div",17),n._UZ(2,"img",18),n.qZA(),n.TgZ(3,"div",19),n._uU(4," Agregar "),n.qZA()()),2&a&&n.Q6J("routerLink",n.DdM(1,ot))}let st=(()=>{class a{constructor(r,g,E,x,b){this.store=r,this.router=g,this.auth=E,this.petService=x,this.App=b,this.showAdd=!1,this.selectedPet$=null,this.server=Z.N.server,this.dataArray$=(0,p.of)(["Item 1","Item 2","Item 3","Item 4","Item 5","Item 6","Item 7","Item 8","Item 9"]),this.pets$=this.store.select(v.bC).pipe((0,m.h)(_=>0!=_.length),(0,u.U)(_=>{let y=localStorage.getItem(C.D5.SELECTED_PET_ID)||_[0].id,I=[..._];if(JSON.parse(localStorage.getItem("usuario")),y){let D=I.find(A=>A.id==y);I=I.filter(A=>A.id!=D.id)}return I})),this.selectedPet$=this.store.select(v.bC).pipe((0,T.b)(_=>console.log(_[0])),(0,m.h)(_=>0!=_.length),(0,u.U)(_=>{var y,I,L,D,A,N,J,Q,Y,F;let rt=localStorage.getItem(C.D5.SELECTED_PET_ID)||_[0].id,d=_.find(dt=>dt.id==rt);const ct=new Date(d.attributes.dob),at=(new Date).getTime()-ct.getTime(),R=Math.floor(at/6048e5);switch(null===(I=null===(y=null==d?void 0:d.attributes)||void 0===y?void 0:y.pet_type)||void 0===I?void 0:I.data.id){case"3":this.vaccineCardId=R<=17?1:3;break;case"2":this.vaccineCardId=R<=16?2:4;break;default:this.vaccineCardId=0}const lt={petBreedId:null===(D=null===(L=null==d?void 0:d.attributes)||void 0===L?void 0:L.pet_breed)||void 0===D?void 0:D.data.id,petTypeId:null===(N=null===(A=null==d?void 0:d.attributes)||void 0===A?void 0:A.pet_type)||void 0===N?void 0:N.data.id,petSize:null===(J=null==d?void 0:d.attributes)||void 0===J?void 0:J.pet_size,dob:null===(Q=null==d?void 0:d.attributes)||void 0===Q?void 0:Q.dob,gender:null===(Y=null==d?void 0:d.attributes)||void 0===Y?void 0:Y.gender,name:null===(F=null==d?void 0:d.attributes)||void 0===F?void 0:F.name,vaccineCardId:this.vaccineCardId};return null==localStorage.getItem(C.D5.SELECTED_PET_ID)&&localStorage.setItem(C.D5.SELECTED_PET_ID,d.id+""),localStorage.setItem(C.D5.SELECTED_PET,JSON.stringify(lt)+""),d}))}ngOnInit(){this.store.dispatch((0,S.EI)({userID:this.auth.getUser().id})),this.App.onActivate(),this.hideemptycontainers()}selectedPets(r,g,E){this.router.navigate(["/my-pets","list",r]),this.petService.setPet(r,g)}selectPet(r,g,E){this.petService.setPet(r,g),this.router.navigate(["/my-pets","list",r]),this.ngOnInit()}hideemptycontainers(){document.querySelectorAll(".group-container").forEach(g=>{const E=g;""===E.innerHTML.trim()&&(E.style.display="none",console.log("vacios"))})}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(w.yh),n.Y36(t.F0),n.Y36(W.e),n.Y36(U.Y),n.Y36($.z))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-pets"]],inputs:{showAdd:"showAdd"},decls:8,vars:7,consts:[[1,"grid","grid-cols-12","gap-4","m-3"],["class","col-span-6",4,"ngIf"],[1,"col-span-6","flex","items-center","justify-center"],[1,"flex","gap-3"],["class"," text-center font-bold text-gray-500",3,"click",4,"ngFor","ngForOf"],["class","text-center font-bold text-gray-500",3,"routerLink",4,"ngIf"],[1,"col-span-6"],[1,"w-full","rounded-full","flex","justify-center","items-center","relative",3,"click"],[4,"ngIf"],[1,"h-36","w-36","rounded-full","border-4","object-top","object-cover","z-50","relative","bg-white",3,"src","ngStyle"],[1,"status","h-10","w-10","bg-contain","bottom-0","absolute",2,"right","18px",3,"ngStyle"],[1,"h-36","w-36","rounded-full","border-4","object-top","object-cover","z-10",3,"src","ngStyle"],[1,"text-center","font-bold","text-gray-500",3,"click"],[1,"mt-3",2,"color","#937195"],["class","h-20 w-20 rounded-full object-cover border-4 object-top  bg-white",3,"src","ngStyle",4,"ngIf"],[1,"h-20","w-20","rounded-full","object-cover","border-4","object-top","bg-white",3,"src","ngStyle"],[1,"text-center","font-bold","text-gray-500",3,"routerLink"],[1,"dashed","h-20","w-20","rounded-full","flex","justify-center","items-center"],["src","assets/Grupo 1239.png"],[1,"mt-3",2,"color","#FCAF3D"]],template:function(r,g){1&r&&(n.TgZ(0,"div",0),n.YNc(1,V,4,2,"div",1),n.ALo(2,"async"),n.TgZ(3,"div",2)(4,"div",3),n.YNc(5,nt,5,3,"div",4),n.ALo(6,"async"),n.YNc(7,it,5,2,"div",5),n.qZA()()()),2&r&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,3,g.selectedPet$)),n.xp6(4),n.Q6J("ngForOf",n.lcZ(6,5,g.pets$)),n.xp6(2),n.Q6J("ngIf",g.showAdd))},dependencies:[O.sg,O.O5,O.PC,t.rH,O.Ov,G.I],styles:[".dashed[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='100' ry='100' stroke='%23FCAF3DFF' stroke-width='10' stroke-dasharray='5%2c 5' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e\");border-radius:100px}"]}),a})()},791:(K,M,i)=>{i.d(M,{dv:()=>C,p:()=>T});var p=i(5620),m=i(8473);const u=(0,p.ZF)(m.o5),T=(0,p.P1)(u,v=>v.products.length?v.products.reduce((Z,n)=>Z+n.quantity,0):""),C=(0,p.P1)(u,v=>v.products);(0,p.P1)(u,v=>{var Z;return null===(Z=v.user)||void 0===Z?void 0:Z.paymentSources})},9119:(K,M,i)=>{i.d(M,{gi:()=>t,hZ:()=>n});var p=i(5620),m=i(2182);const u=(0,p.ZF)("router"),{selectRouteParam:n,selectUrl:t}=(0,m.Ug)(u)}}]);