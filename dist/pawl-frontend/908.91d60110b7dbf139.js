"use strict";(self.webpackChunkpawl_frontend=self.webpackChunkpawl_frontend||[]).push([[908],{6908:(_e,U,s)=>{s.r(U),s.d(U,{MyPetsModule:()=>re});var p=s(9808),f=s(3257),u=s(5642),l=s(5620),T=s(4749),D=s(9300),L=s(5226),$=s.n(L),w=s(6789),t=s(5e3),C=s(9252),x=s(8852);function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.memorial(o.res=!0))}),t.TgZ(1,"div",8),t._UZ(2,"img",15),t.qZA(),t.TgZ(3,"div",10)(4,"div",11),t._uU(5," Memorial "),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Perder un amigo es duro conservala siempre en tu recuerdo con este memorial "),t.qZA()()()}}function G(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.memorial(o.res=!1))}),t.TgZ(1,"div",8),t._UZ(2,"img",16),t.qZA(),t.TgZ(3,"div",10)(4,"div",11),t._uU(5," Re-activar "),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Esta opci\xf3n reactiva de nuevo tu mascota remueve el estado Memorial "),t.qZA()()()}}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"h1",3)(3,"span",4),t._uU(4," Borrar a"),t.qZA(),t._uU(5),t.qZA()(),t._UZ(6,"div",5),t.TgZ(7,"div",6)(8,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deletePet())}),t.TgZ(9,"div",8),t._UZ(10,"img",9),t.qZA(),t.TgZ(11,"div",10)(12,"div",11),t._uU(13," Eliminar "),t.qZA(),t.TgZ(14,"div",12),t._uU(15," Esta opci\xf3n elimina permanentemente a tu amscota de tu perf\xedl. "),t.qZA()()(),t.YNc(16,z,8,0,"div",13),t.YNc(17,G,8,0,"div",13),t.TgZ(18,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t._uU(19,"Cancelar"),t.qZA()()()}if(2&n){const e=a.ngIf;t.xp6(5),t.hij(" ",e.attributes.name," "),t.xp6(11),t.Q6J("ngIf",!1===e.attributes.memorial||null===e.attributes.memorial),t.xp6(1),t.Q6J("ngIf",!0===e.attributes.memorial||null===e.attributes.memorial)}}let B=(()=>{class n{constructor(e,i,o,c,r){this.store=e,this.shared=i,this.activeRoute=o,this.router=c,this.App=r,this.pet$=null,this.petId=localStorage.getItem(u.D5.SELECTED_PET_ID)}ngOnInit(){this.App.onActivate(),this.activeRoute.params.subscribe(({id:e})=>{this.pet$=this.store.pipe((0,l.Ys)((0,w.KN)(e)),(0,D.h)(i=>null!=i))})}deletePet(){this.shared.sendConfirmation("warning","Atencion","Esta mascota sera eliminada de forma permanente").then(e=>{e.isConfirmed?this.store.dispatch((0,T.on)({id:this.petId})):(e.dismiss||e.isDenied)&&$().mixin({customClass:{container:"swalcontainer",popup:"swalpopup",title:"swaltitle",confirmButton:"swalbutton swalaccept",cancelButton:"swalbutton swalcnl"},buttonsStyling:!1}).fire("Eliminar cancelado")})}memorial(e){this.store.dispatch((0,T.JV)({pet:{id:this.petId,memorial:e,fallecimiento:new Date}}))}cancel(){this.router.navigate(["/my-pets","list"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh),t.Y36(C.F),t.Y36(f.gz),t.Y36(f.F0),t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-pet"]],decls:2,vars:3,consts:[["class","content rounded-3xl w-full mt-6 justify-center box-shadow-base",4,"ngIf"],[1,"content","rounded-3xl","w-full","mt-6","justify-center","box-shadow-base"],[1,"py-4","px-10","grid","grid-cols-6"],[1,"col-span-6","font-bold","text-center","text-orange-400","text-3xl"],[1,"text-gray-400"],[1,"rounded-3xl","pyc-1","mx-6","h-2","justify-center","box-shadow-base"],[1,"pt-4","px-11"],[1,"grid","grid-cols-4","my-10","mt-8","cursor-pointer",3,"click"],[1,"flex","justify-center","items-center","object-top","rounded-full","h-16","w-16","col-span-1"],["src","assets\\icons\\delete.svg",1,"w-20","h-20","rounded-full","absolute"],[1,"col-span-3"],[1,"font-bold","text-lg","text-orange"],[1,"text-gray-400","text-sm"],["class","grid grid-cols-4 my-10 mt-8 cursor-pointer",3,"click",4,"ngIf"],[1,"w-full","p-2","bg-gray-500","text-white","font-bold","rounded-full","mb-12",3,"click"],["src","assets\\icons\\memorial.svg",1,"w-20","h-20","rounded-full","absolute"],["src","assets\\icons\\activate.svg",1,"w-20","h-20","rounded-full","absolute"]],template:function(e,i){1&e&&(t.YNc(0,K,20,3,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.pet$))},dependencies:[p.O5,p.Ov],styles:[".perro[_ngcontent-%COMP%]{border-radius:100px!important;min-height:800px!important}"]}),n})();var _=s(3075),P=s(882),H=s(2686),R=s(4946),X=s(9779),q=s(9850),Z=s(4368),W=s(8454);function tt(n,a){}function et(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",47),t.NdJ("click",function(){const c=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.loadPetBreeds(c.id))}),t.TgZ(1,"label",48),t._UZ(2,"input",49)(3,"img",50),t.ALo(4,"image"),t.TgZ(5,"span",17),t._uU(6),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(1),t.Q6J("for",e.attributes.name),t.xp6(1),t.Q6J("id",e.attributes.name)("value",e.id),t.xp6(1),t.Q6J("src",t.lcZ(4,5,null==e.attributes.icon.data||null==e.attributes.icon.data.attributes?null:e.attributes.icon.data.attributes.url),t.LSH),t.xp6(3),t.Oqu(e.attributes.name)}}function nt(n,a){}function it(n,a){if(1&n&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.attributes.name)}}function ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",6),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(42),c=t.oxw();return t.KtG(c.onSubmit(o))}),t.TgZ(1,"mat-horizontal-stepper")(2,"mat-step"),t.YNc(3,tt,0,0,"ng-template",7),t.TgZ(4,"div",8)(5,"div",9),t._uU(6," Especie "),t.qZA(),t.TgZ(7,"div",10),t.YNc(8,et,7,7,"div",11),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"div",9),t._uU(11," Tama\xf1o "),t.qZA(),t.TgZ(12,"div",12)(13,"div",13)(14,"label",14),t._UZ(15,"input",15)(16,"img",16),t.TgZ(17,"span",17),t._uU(18," Chico"),t.qZA()()(),t.TgZ(19,"div",13)(20,"label",18),t._UZ(21,"input",19)(22,"img",20),t.TgZ(23,"span",17),t._uU(24," Mediano "),t.qZA()()(),t.TgZ(25,"div",13)(26,"label",21),t._UZ(27,"input",22)(28,"img",23),t.TgZ(29,"span",17),t._uU(30," Grande "),t.qZA()()()(),t.TgZ(31,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkPetBreed())}),t._uU(32,"Continuar"),t.qZA()(),t.TgZ(33,"mat-step"),t.YNc(34,nt,0,0,"ng-template",7),t.TgZ(35,"div",25)(36,"span",26),t._uU(37," Fotograf\xeda"),t.qZA(),t.TgZ(38,"div",27)(39,"label")(40,"div",28),t._UZ(41,"input",29,30)(43,"img",31),t.qZA()()()(),t.TgZ(44,"div",8)(45,"label",32),t._uU(46,"Nombre"),t.qZA(),t._UZ(47,"input",33),t.qZA(),t.TgZ(48,"div",8)(49,"label",34),t._uU(50,"Fecha de nacimiento"),t.qZA(),t.TgZ(51,"input",35),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectVaccineCard())}),t.qZA()(),t.TgZ(52,"div",8)(53,"label",36),t._uU(54,"Raza"),t.qZA(),t.TgZ(55,"select",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkPetBreed())}),t.TgZ(56,"option",38),t._uU(57,"Primera Raza"),t.qZA(),t.YNc(58,it,2,2,"option",39),t.qZA()(),t.TgZ(59,"p",26),t._uU(60,"Genero"),t.qZA(),t.TgZ(61,"div",8)(62,"select",40)(63,"option",38),t._uU(64,"Selecciona un genero"),t.qZA(),t.TgZ(65,"option",41),t._uU(66," Macho"),t.qZA(),t.TgZ(67,"option",42),t._uU(68," Hembra"),t.qZA()()(),t.TgZ(69,"div",43)(70,"div",44)(71,"button",45),t._uU(72,"Regresar"),t.qZA()(),t.TgZ(73,"div",44)(74,"button",46),t._uU(75,"Guardar"),t.qZA()()()()()()}if(2&n){const e=a.ngIf,i=t.oxw();t.Q6J("formGroup",i.addPetForm),t.xp6(8),t.Q6J("ngForOf",t.lcZ(9,3,i.petTypes$)),t.xp6(50),t.Q6J("ngForOf",e.breeds)}}const at=function(n){return{breeds:n}};let ct=(()=>{class n{constructor(e,i,o,c,r){this.store=e,this.auth=i,this.fb=o,this.shared=c,this.App=r,this.isLinear=!1,this.isChecked=!0,this.petId=localStorage.getItem(u.D5.SELECTED_PET_ID),this.pet=JSON.parse(localStorage.getItem(u.D5.SELECTED_PET)),this.addPetForm=this.fb.group({id:new _.NI(this.petId),especie:new _.NI(this.pet.petTypeId),size:new _.NI(this.pet.petSize),name:new _.NI(this.pet.name),dob:new _.NI(this.pet.dob),raza:new _.NI(this.pet.petBreedId),genero:new _.NI(this.pet.gender)})}ngOnInit(){this.store.dispatch((0,P.xQ)({pet_type_id:this.pet.petTypeId})),this.store.dispatch((0,H.id)()),this.breeds$=this.store.pipe((0,l.Ys)(R.$)),this.petTypes$=this.store.pipe((0,l.Ys)(X.T)),this.App.onActivate()}loadPetBreeds(e){this.store.dispatch((0,P.xQ)({pet_type_id:e})),this.isChecked=!0}checkPetBreed(){if(!1===this.isChecked)return this.shared.sendAlert("warning","Especie de mascota no seleccionada","Por favor seleccione una especie")}onSubmit(e){if(console.log("ONSUBMIT",this.addPetForm.value),this.addPetForm.invalid)return this.shared.sendAlert("warning","Formulario Invalido","Por favor verifique los campos");this.store.dispatch((0,T.JV)({pet:{id:this.petId,name:this.addPetForm.controls.name.value,dob:this.addPetForm.controls.dob.value,gender:this.addPetForm.controls.genero.value,pet_size:this.addPetForm.controls.size.value,pet_type:this.addPetForm.controls.especie.value,pet_breed:this.addPetForm.controls.raza.value,user:this.auth.getUser().id,vaccine_card:{vaccine_card:this.vaccineCardType},dewormer:{vaccine_card:this.dewormerType}},img:e.files[0]})),this.isChecked=!1}selectVaccineCard(){var e,i;const o=this.addPetForm.get("dob").value,c=new Date(o),r=new Date;if(c>r)return this.shared.sendAlert("warning","Error","La fecha de nacimiento debe ser anterior a la fecha actual"),null===(e=this.addPetForm.get("dob"))||void 0===e?void 0:e.setValue(this.pet.dob);const h=r.getTime()-c.getTime(),m=Math.floor(h/6048e5);switch(this.pet.petTypeId){case"3":this.vaccineCardType=m<=17?1:3,this.dewormerType=6;break;case"2":this.vaccineCardType=m<=16?2:4,this.dewormerType=5;break;default:return this.shared.sendAlert("warning","Especie de mascota no eleccionada","Por favor seleccione una especie"),void(null===(i=this.addPetForm.get("dob"))||void 0===i||i.setValue(this.pet.dob))}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh),t.Y36(q.e),t.Y36(_.qu),t.Y36(C.F),t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-pet"]],decls:9,vars:6,consts:[[1,"content","rounded-3xl","w-full","mt-6","justify-center","box-shadow-base","ng-star-inserted"],[1,"py-4","px-10","grid","grid-cols-6"],[1,"col-span-6","font-bold","text-center","text-orange-400","text-3xl"],[1,"text-gray-400"],[1,"rounded-3xl","pyc-1","mx-6","h-2","justify-center","box-shadow-base"],["class","p-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"p-4",3,"formGroup","ngSubmit"],["matStepLabel",""],[1,"form-group"],[1,"w-full","text-center","font-bold","text-orange","my-4"],[1,"grid","grid-cols-2","gap-4"],["class"," col-auto ",3,"click",4,"ngFor","ngForOf"],[1,"form-group","grid","grid-cols-3","gap-4","h-32","relative","pt-8","pb-4"],[1,"relative","sizes"],["for","chico",1,"absolute","inset-x-0","bottom-0"],["id","chico","value","small","name","size","type","radio","formControlName","size"],["src","assets/pawprint.svg",1,"w-3/12","m-auto"],[1,"mx-auto","my-2","text-center","block","text-gray-400"],["for","mediano",1,"absolute","inset-x-0","bottom-0"],["id","mediano","value","medium","name","size","type","radio","formControlName","size"],["src","assets/pawprint.svg",1,"w-6/12","m-auto"],["for","grande",1,"absolute","inset-x-0","bottom-0"],["id","grande","value","large","name","size","type","radio","formControlName","size"],["src","assets/pawprint.svg",1,"w-9/12","m-auto"],["mat-button","","matStepperNext","","type","button",1,"single_add_button",3,"click"],[1,"mx-auto","w-52","text-center"],[1,"w-full","text-center","font-bold","text-orange","my-4","block"],[1,"relative","w-52"],[1,"w-52","h-52","group","hover:bg-gray-200","opacity-60","rounded-full","flex","justify-center","items-center","cursor-pointer","transition","duration-500"],["type","file"],["inputFile",""],["src","assets\\icons\\imgupload.svg",1,"w-52","h-52","rounded-full","absolute"],["for","nombre",1,"w-full","text-center","font-bold","text-orange","my-4","block"],["id","nombre","name","nombre","type","text","placeholder","Nombre(s)","formControlName","name",1,"text-input"],["for","dob",1,"w-full","text-center","font-bold","text-orange","my-4","block"],["id","dob","name","dob","type","date","formControlName","dob",1,"text-input",3,"change"],["for","raza",1,"w-full","text-center","font-bold","text-orange","my-4","block"],["name","raza","id","raza","formControlName","raza",1,"text-input",3,"click"],["disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["name","genero","id","genero","formControlName","genero",1,"text-input"],["value","male"],["value","female"],[1,"form-group","grid","grid-cols-6","gap-4","mt-10"],[1,"col-span-3"],["mat-button","","matStepperPrevious","","type","button",1,"single_add_button"],["type","submit",1,"single_add_button_orange"],[1,"col-auto",3,"click"],[3,"for"],["name","especie","type","radio","formControlName","especie",3,"id","value"],[1,"w-8/12","m-auto","rounded-full",3,"src"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2)(3,"span",3),t._uU(4," Editar a"),t.qZA(),t._uU(5),t.qZA()(),t._UZ(6,"div",4),t.YNc(7,ot,76,5,"form",5),t.ALo(8,"async"),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",i.pet.name," "),t.xp6(2),t.Q6J("ngIf",t.VKq(4,at,t.lcZ(8,2,i.breeds$))))},dependencies:[p.sg,p.O5,_._Y,_.YN,_.Kr,_.Fj,_.EJ,_._,_.JJ,_.JL,_.sg,_.u,Z.C0,Z.VY,Z.Vq,Z.Ic,Z.fd,p.Ov,W.I],styles:[".mat-horizontal-stepper-header-container{display:none!important}[type=radio][_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{cursor:pointer}[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}[type=radio][_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{outline:3px solid #FCAF3D}label[_ngcontent-%COMP%]:checked{color:red}.text-input[_ngcontent-%COMP%]{box-shadow:inset 0 0 8px #e2dbca;width:100%;border-radius:1rem;padding:.5rem;font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.sizes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{outline:none!important;filter:invert(56%) sepia(150%) saturate(451%) hue-rotate(333deg) brightness(99%) contrast(88%)}[type=file][_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{cursor:pointer;left:0;top:0}[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}"]}),n})();var rt=s(8505);let N=(()=>{class n{transform(e){switch(e){case"small":return"Peque\xf1o";case"medium":return"Mediano";case"large":return"Grande";case"xlarge":return"Muy grande"}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"petSize",type:n,pure:!0}),n})();const st=function(n){return["/my-pets","vaccine-card",n]},dt=function(n){return["/my-pets","edit-pet",n]},E=function(n){return["/my-pets","delete-pet",n]};function lt(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1",7),t._uU(4),t.qZA(),t.TgZ(5,"div",8),t._uU(6),t.qZA()(),t.TgZ(7,"div",9)(8,"div",10)(9,"span",11),t._uU(10,"Vacunaci\xf3n"),t.qZA(),t._UZ(11,"img",12),t.TgZ(12,"span",13),t._uU(13,"75%"),t.qZA()(),t.TgZ(14,"div",10)(15,"span",11),t._uU(16,"Desparasitaci\xf3n"),t.qZA(),t._UZ(17,"img",14),t.TgZ(18,"span",13),t._uU(19,"75%"),t.qZA()()()(),t._UZ(20,"div",15),t.TgZ(21,"div",5)(22,"div",16),t._uU(23," INFORMACI\xd3N GENERAL "),t.qZA(),t.TgZ(24,"div",17)(25,"div",18),t._uU(26," Raza "),t.qZA(),t.TgZ(27,"div",19),t._uU(28),t.qZA(),t.TgZ(29,"div",18),t._uU(30," Fecha Nac. "),t.qZA(),t.TgZ(31,"div",19),t._uU(32),t.ALo(33,"date"),t.qZA(),t.TgZ(34,"div",18),t._uU(35," Tama\xf1o "),t.qZA(),t.TgZ(36,"div",19),t._uU(37),t.ALo(38,"petSize"),t.qZA()()(),t.TgZ(39,"div",20)(40,"button",21),t._uU(41," Editar "),t.qZA(),t.TgZ(42,"button",22),t._uU(43," Borrar/Memorial "),t.qZA()()()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(4),t.hij(" ",e.attributes.name," "),t.xp6(2),t.hij(" Edad - ",i.calculatedAge," "),t.xp6(1),t.Q6J("routerLink",t.VKq(13,st,e.id)),t.xp6(21),t.hij(" ",e.attributes.pet_breed.data.attributes.name," "),t.xp6(4),t.hij(" ",t.xi3(33,8,e.attributes.dob,"dd MMMM yyyy")," "),t.xp6(5),t.hij(" ",t.lcZ(38,11,e.attributes.pet_size)," "),t.xp6(3),t.Q6J("routerLink",t.VKq(15,dt,e.id)),t.xp6(2),t.Q6J("routerLink",t.VKq(17,E,e.id))}}function _t(n,a){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"img",23),t.TgZ(3,"h1",24),t._uU(4),t.qZA(),t.TgZ(5,"div",16),t._uU(6," DESCANSA EN PAZ "),t.qZA(),t.TgZ(7,"div",17)(8,"div",18),t._uU(9," Fecha Nac. "),t.qZA(),t.TgZ(10,"div",19),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"div",18),t._uU(14," Fecha fallecimiento "),t.qZA(),t.TgZ(15,"div",19),t._uU(16),t.ALo(17,"date"),t.qZA()()(),t._UZ(18,"div",15),t.TgZ(19,"div",25)(20,"button",26),t._uU(21," Editar "),t.qZA()()()),2&n){const e=t.oxw().ngIf;t.xp6(4),t.hij(" ",e.attributes.name," "),t.xp6(7),t.hij(" ",t.xi3(12,4,e.attributes.dob,"dd MMMM yyyy")," "),t.xp6(5),t.hij(" ",t.xi3(17,7,e.attributes.fallecimiento,"dd MMMM yyyy")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(10,E,e.id))}}function pt(n,a){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,lt,44,19,"div",2),t.YNc(2,_t,22,12,"ng-template",null,3,t.W1O),t.qZA()),2&n){const e=a.ngIf,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!1===e.attributes.memorial||null===e.attributes.memorial)("ngIfElse",i)}}let ut=(()=>{class n{constructor(e,i,o,c){this.activeRoute=e,this.store=i,this.auth=o,this.App=c,this.pet$=null,this.auth.checkPetId()}ngOnInit(){this.activeRoute.params.subscribe(({id:e})=>{this.pet$=this.store.pipe((0,l.Ys)((0,w.KN)(e)),(0,D.h)(i=>null!=i),(0,rt.b)(i=>{let o=(new Date).getFullYear()-new Date(i.attributes.dob).getFullYear();if(o>0)this.calculatedAge=o+" a\xf1os";else{let c=(new Date).getMonth()-new Date(i.attributes.dob).getMonth();if(c>0)this.calculatedAge=c+" meses";else{let r=(new Date).getDate()-new Date(i.attributes.dob).getDate();this.calculatedAge=r+" d\xedas"}}}))}),this.App.onActivate()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.gz),t.Y36(l.yh),t.Y36(q.e),t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-pets"]],decls:2,vars:3,consts:[["class","content rounded-3xl w-full mt-6 justify-center box-shadow-base",4,"ngIf"],[1,"content","rounded-3xl","w-full","mt-6","justify-center","box-shadow-base"],["class","pt-4 px-1 pb-20",4,"ngIf","ngIfElse"],["memorial",""],[1,"pt-4","px-1","pb-20"],[1,"px-10"],[1,"grid","grid-cols-6"],[1,"col-span-3","font-bold","text-center","text-orange-400","text-3xl"],[1,"col-span-3","text-center","text-gray-400","pt-2"],[1,"grid","grid-cols-2","my-3",3,"routerLink"],[1,"grid","items-center","justify-center"],[1,"text-gray-400","text-xs","text-center"],["src","assets/icons/vac.svg ",1,"outshadow","rounded-full","w-full","p-6"],[1,"text-gray-400","text-xs","text-center","my-3"],["src","assets/icons/food.svg ",1,"outshadow","rounded-full","w-full","p-6"],[1,"rounded-3xl","pyc-1","mx-6","h-2","justify-center","box-shadow-base"],[1,"w-full","font-bold","text-gray-400","text-center","text-sm","py-6"],[1,"grid","grid-cols-2","gap-2","mb-8"],[1,"text-orange-400"],[1,"text-gray-400"],[1,"grid","grid-cols-2","gap-4","drop-shadow-xl","mx-4"],[1,"p-2","text-white","text-sm","bg-orange-400","rounded-full","w-full","outshadow",3,"routerLink"],[1,"outshadow","p-2","text-white","text-sm","bg-cyan-400","rounded-full","w-full","outshadow",3,"routerLink"],["src","assets/icons/rippet.svg","alt","",1,"w-full","p-6","pb-2"],[1,"col-span-6","font-bold","text-center","text-orange-400","text-3xl"],[1,"grid","grid-cols-1","gap-4","mx-4"],[1,"p-2","my-4","drop-shadow-xl","text-white","text-sm","bg-orange-400","rounded-full","w-full",3,"routerLink"]],template:function(e,i){1&e&&(t.YNc(0,pt,4,2,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.pet$))},dependencies:[p.O5,f.rH,p.Ov,p.uU,N]}),n})(),gt=(()=>{class n{constructor(e){this.appService=e,this.appService.setPet()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-my-pets"]],decls:1,vars:0,consts:[[1,"mb-24"]],template:function(e,i){1&e&&t._UZ(0,"router-outlet",0)},dependencies:[f.lC]}),n})();var y=s(4004),F=s(2687),k=s(38),J=s(7880),mt=s(18);const M=(0,l.ZF)(mt.vK);(0,l.P1)(M,J.td);var I=s(9482),A=s(7570),Y=s(9546),g=s(9451),ht=s(2510);const V=(0,l.ZF)(ht.wD);(0,l.P1)(V,J.td);var S=s(2855);function xt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().index,r=t.oxw(3);return t.KtG(r.dateInputToggle(c,o.applied))}),t.TgZ(1,"div",17)(2,"span"),t._uU(3,"Click para agregar vacuna. "),t.qZA(),t.TgZ(4,"div",18)(5,"div",19),t._UZ(6,"img",20),t.qZA()()()()}}function Zt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.updateDewormer(c.id,o.applied))}),t._UZ(1,"fa-icon",22),t.qZA()}if(2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("icon",e.faCheckCircle)}}function bt(n,a){if(1&n&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.date," ")}}function wt(n,a){1&n&&(t.TgZ(0,"span",23),t._uU(1," N/A "),t.qZA())}function Ct(n,a){if(1&n&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij("",e.license," ")}}function Tt(n,a){1&n&&(t.TgZ(0,"span",24),t._uU(1," N/A "),t.qZA())}function yt(n,a){if(1&n&&(t.TgZ(0,"div",7)(1,"span",25)(2,"span",26),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t._uU(5," Fecha:"),t.TgZ(6,"span",27),t._uU(7),t.qZA(),t._uU(8," C\xe9dula: "),t.TgZ(9,"span",27),t._uU(10),t.qZA(),t._UZ(11,"br")(12,"br"),t.qZA()),2&n){const e=a.$implicit,i=a.index;t.xp6(3),t.hij("",i+1," "),t.xp6(1),t.hij(" ",e.product,""),t.xp6(3),t.hij(" ",e.date," "),t.xp6(3),t.Oqu(e.license)}}function It(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"label",40),t._uU(2,"C\xe9dula Profesional"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"input",41),t.NdJ("change",function(){t.CHM(e);const o=t.oxw(3).index,c=t.oxw(3);return t.KtG(c.getCedula(o))}),t.qZA()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw().index;t.xp6(4),t.Q6J("value",e.license)("id","cedula-"+i)}}function At(n,a){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.attributes.name," ")}}function Ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"label",42),t._uU(2,"Producto aplicado"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"select",43),t.NdJ("change",function(o){t.CHM(e);const c=t.oxw(6);return t.KtG(c.onSelectChange(o,c.vaccinesId))}),t.TgZ(5,"option",44),t._uU(6," Producto"),t.qZA(),t.YNc(7,At,2,2,"option",45),t.ALo(8,"async"),t.qZA()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(4);t.xp6(4),t.Q6J("value",e.product),t.xp6(1),t.Q6J("selected",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(8,3,i.productsDewormer$))}}function Dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t._uU(3," Agregar"),t.qZA(),t.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"label",34),t._uU(8,"Fecha de Aplicaci\xf3n "),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"input",35),t.NdJ("change",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.getDate(c.id,o.applied))}),t.qZA()(),t.YNc(11,It,5,2,"div",36),t.YNc(12,Ut,9,5,"div",36),t.qZA(),t.TgZ(13,"div",37)(14,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,c=t.oxw(3);return t.KtG(c.triggerUpdateVaccine(o.id))}),t._uU(15,"Aplicar"),t.qZA(),t.TgZ(16,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.cancelInput())}),t._uU(17,"Cancelar"),t.qZA()()()()()}if(2&n){const e=t.oxw(5);t.xp6(10),t.Q6J("value",e.date),t.xp6(1),t.Q6J("ngIf",!e.operador),t.xp6(1),t.Q6J("ngIf",!e.operador)}}function Pt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div")(3,"div",5)(4,"div",6)(5,"span",7),t._uU(6," Dosis: "),t.qZA(),t._uU(7),t.qZA()(),t.YNc(8,xt,7,0,"div",8),t.YNc(9,Zt,2,1,"div",9),t.TgZ(10,"div",10)(11,"div")(12,"span",7),t._uU(13," FECHA:"),t.qZA(),t.YNc(14,bt,2,1,"span",11),t.YNc(15,wt,2,0,"span",11),t.qZA(),t.TgZ(16,"div")(17,"span",7),t._uU(18," CEDULA:"),t.qZA(),t.YNc(19,Ct,2,1,"span",11),t.YNc(20,Tt,2,0,"span",12),t.qZA()(),t.TgZ(21,"mat-accordion")(22,"mat-expansion-panel")(23,"mat-expansion-panel-header")(24,"mat-panel-title",13),t._uU(25," Historial de vacunaci\xf3n "),t.qZA()(),t.YNc(26,yt,13,4,"div",14),t.qZA()(),t.YNc(27,Dt,18,3,"div",15),t.qZA()(),t.BQk()),2&n){const e=a.ngIf,i=t.oxw(),o=i.$implicit,c=i.index,r=t.oxw(3);t.xp6(7),t.hij(" ",o.name," "),t.xp6(1),t.Q6J("ngIf",!e.applied),t.xp6(1),t.Q6J("ngIf",e.applied),t.xp6(5),t.Q6J("ngIf",e.date),t.xp6(1),t.Q6J("ngIf",!e.date),t.xp6(4),t.Q6J("ngIf",!r.operador),t.xp6(1),t.Q6J("ngIf",r.operador),t.xp6(6),t.Q6J("ngForOf",e.history),t.xp6(1),t.Q6J("ngIf",!e.applied&&r.showDateInput&&r.selectedVaccineIndex===c)}}function qt(n,a){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Pt,28,9,"ng-container",0),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isDewormerApplied(e.id,i.pet.dewormer.applied,i.pet.vaccine_history))}}function Nt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,qt,2,1,"div",2),t.BQk()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.pet.dewormer_nested.vaccines)}}function Et(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div")(2,"div",1),t.YNc(3,Nt,2,1,"ng-container",0),t.qZA()(),t.BQk()),2&n){const e=a.ngIf;t.xp6(3),t.Q6J("ngIf",e.pet.dewormer_nested)}}const Ft=function(n,a){return{pet:n,pet_entity:a}};let j=(()=>{class n{constructor(e,i,o){this.store=e,this.shared=i,this.App=o,this.id=localStorage.getItem(u.D5.SELECTED_PET_ID),this.faCheckCircle=F.f8k,this.petTypeId=JSON.parse(localStorage.getItem(u.D5.SELECTED_PET)).petTypeId,this.showDateInput=!1,this.operador=!1,this.activeTab="tab1",this.selectedVaccineIndex=null}isDewormerApplied(e,i,o){let c=!1,r="N/A",h=null,m=null,b=[];return i=i.filter(({vaccine:d})=>null!==d),(o=o.filter(({vaccine:d})=>null!==d)).forEach(d=>{d.vaccine.id===e&&b.push({id:d.id,date:d.date,license:d.license,product:d.product.name,vaccine:d.vaccine.name})}),i.forEach(d=>{if(d.vaccine.id===e){c=!0;const v=new Date(d.date).toISOString().split("T")[0].split("-");h=`${v[1]}/${v[2]}/${v[0]}`,null!=d.license&&(r=d.license),null!=d.product&&(m=d.product)}}),{applied:c,date:h,license:r,history:b,product:m}}ngOnInit(){this.setProductId(),this.store.dispatch((0,I.pY)({pet_type_id:this.vaccinesId})),this.productsDewormer$=this.store.select(A.qr).pipe((0,y.U)(e=>e.filter(o=>o.attributes.sub_category.data.id===this.vaccinesId))),this.dewormer$=this.store.pipe((0,l.Ys)((n=>(0,l.P1)(V,a=>a.entities[n]))(this.id))),this.pet$=this.store.pipe((0,l.Ys)((0,w.KN)(this.id))),this.store.dispatch((0,S.$O)({petID:this.id})),this.today(),this.App.onActivate()}getDate(e,i){this.dewormeriD=e,this.applied=i}triggerUpdateVaccine(e){this.dewormeriD=e;const i=document.getElementById("date");new Date(i.value)>new Date?this.shared.sendAlert("warning","Fecha Inv\xe1lida","Seleccione una fecha pasada."):(this.date=i.value,this.updateDewormer(this.dewormeriD,this.applied))}today(){let e=new Date,i=e.getDate(),o=e.getMonth()+1,c=e.getFullYear(),r="";return o<10?(r=c+"-0"+o+"-"+i,this.date=r):(r=c+"-"+o+"-"+i,this.date=r),r}updateDewormer(e,i){if(!i&&!this.date)return this.shared.sendAlert("warning","Formulario Invalido","Por favor, verifique los campos");null==this.product&&(this.product=142),this.shared.sendConfirmation("info","Modificar cartilla",`\xbfSeguro que desea ${i?"remover":"aplicar"} esta vacuna?`).then(o=>{if(o.isConfirmed){let c={id:this.id,vaccineID:e,remove:i,productId:this.product,cedula:this.cedula,date:this.date,vaccine_card_id:JSON.parse(localStorage.getItem(u.D5.SELECTED_PET)).vaccineCardId};this.store.dispatch((0,S.ju)(c))}this.today(),this.product=null,this.cedula=null,this.showDateInput=!1})}setProductId(){"2"===this.petTypeId?this.vaccinesId=10:"3"===this.petTypeId&&(this.vaccinesId=8),console.log(this.vaccinesId)}onSelectChange(e,i){this.product=e.target.value,console.log(this.product)}getCedula(e){let i=document.getElementById(`cedula-${e}`).value;this.cedula=i,console.log(this.cedula)}dateInputToggle(e,i){!0===this.showDateInput?this.showDateInput=!1:!1===this.showDateInput&&(this.date=this.today(),this.showDateInput=!0,this.selectedVaccineIndex=e,this.applied=i,console.log(this.date,this.vaccinesId,this.selectedVaccineIndex,this.applied))}cancelInput(e){if(e){const i=e.target,o=document.getElementById("vaccine-input-container");if(o&&o.contains(i))return void e.stopPropagation()}this.showDateInput=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh),t.Y36(C.F),t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dewormer"]],decls:3,vars:8,consts:[[4,"ngIf"],[1,"grid","md:grid-cols-3","md:gap-10","lg:grid-cols-4","lg:gap-10","grid-cols-1","gap-10","place-items-center","p-3"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"w-full","h-66","border-4","content","box-shadow-base","rounded-3xl","p-1"],[1,"grid","grid-cols-1","header-category-items","text-yellow"],[1,"col-span-1","text-lg"],[1,"text-gray-400"],[3,"click",4,"ngIf"],["class","flex h-40 justify-center my-4",3,"click",4,"ngIf"],[1,"grid","grid-cols-2","header-category-items"],["class","ml-1 font-sans text-orange-400 font-light",4,"ngIf"],["id","license","class","ml-1 font-sans text-orange-400 font-light",4,"ngIf"],[1,"text-gray-400","font-bold"],["class","text-gray-400",4,"ngFor","ngForOf"],["class","vaccine-input-back",4,"ngIf"],[3,"click"],[1,"p-2","text-orange-300","text-lg","text-center"],[1,"flex","justify-center","items-center","my-6"],[1,"dashed","col-span-1","h-20","w-20","rounded-full","flex","justify-center","items-center"],["src","assets/Grupo 1239.png",1,""],[1,"flex","h-40","justify-center","my-4",3,"click"],[1,"text-lime-500","lg:text-8xl","md:text-7xl","md:mt-3","text-8xl","mt-3",3,"icon"],[1,"ml-1","font-sans","text-orange-400","font-light"],["id","license",1,"ml-1","font-sans","text-orange-400","font-light"],[1,"bg-gray-100","p-3","text-gray-400","rounded-full","block"],[1,"bg-orange-400","p-3","text-white","rounded-full","mx-3"],[1,"text-orange-400"],[1,"vaccine-input-back"],["id","vaccine-input-container"],[1,"title"],[1,"vaccine-content"],[1,"grid","sm:grid-cols-1","md:grid-cols-3","lg:grid-cols-3","pt-4","pb-4"],[1,"m-2"],["for","date",1,"text-center","w-full","block"],["type","date","id","date",1,"ml-1","font-sans","text-orange-400","font-light","text-center","w-full","block",3,"value","change"],["class","m-2",4,"ngIf"],[1,"grid","grid-cols-2"],[1,"bg-orange-400",3,"click"],[1,"bg-gray-500",3,"click"],["for","cedula",1,"text-center","w-full","block"],["type","text","placeholder","Cedula",1,"text-center","w-full","block",3,"value","id","change"],["for","product",1,"text-center","w-full","block"],["name","product","type","submit","id","product","formControlName","product",1,"text-input","text-center","w-full","block",3,"value","change"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.YNc(0,Et,4,1,"ng-container",0),t.ALo(1,"async"),t.ALo(2,"async")),2&e&&t.Q6J("ngIf",t.WLB(5,Ft,t.lcZ(1,1,i.dewormer$),t.lcZ(2,3,i.pet$)))},dependencies:[p.sg,p.O5,Y.BN,g.pp,g.ib,g.yz,g.yK,p.Ov],styles:[".dashed[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='100' ry='100' stroke='%23FCAF3DFF' stroke-width='10' stroke-dasharray='5%2c 5' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e\");border-radius:100px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:block;text-align:center}.mat-expansion-indicator[_ngcontent-%COMP%]{border-color:#7fffd4!important}"]}),n})(),kt=(()=>{class n{transform(e){return"female"==e?"Hembra":"Macho"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"petGender",type:n,pure:!0}),n})();function Jt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().index,r=t.oxw(5);return t.KtG(r.dateInputToggle(c,o.applied))}),t.TgZ(1,"div",34)(2,"span"),t._uU(3,"Click para agregar vacuna. "),t.qZA(),t.TgZ(4,"div",35)(5,"div",36),t._UZ(6,"img",37),t.qZA()()()()}}function Mt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().$implicit,r=t.oxw(5);return t.KtG(r.updateVaccine(c.id,o.applied))}),t._UZ(1,"fa-icon",39),t.qZA()}if(2&n){const e=t.oxw(7);t.xp6(1),t.Q6J("icon",e.faCheckCircle)}}function Yt(n,a){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.date," ")}}function Vt(n,a){1&n&&(t.TgZ(0,"span",40),t._uU(1," N/A "),t.qZA())}function St(n,a){if(1&n&&(t.TgZ(0,"span",40),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij("",e.license," ")}}function jt(n,a){1&n&&(t.TgZ(0,"span",41),t._uU(1," N/A "),t.qZA())}function Qt(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"span",42)(2,"span",43),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t._uU(5," Fecha:"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8," C\xe9dula: "),t.TgZ(9,"span",9),t._uU(10),t.qZA(),t._UZ(11,"br")(12,"br"),t.qZA()),2&n){const e=a.$implicit,i=a.index;t.xp6(3),t.hij("",i+1," "),t.xp6(1),t.hij(" ",e.product,""),t.xp6(3),t.hij(" ",e.date," "),t.xp6(3),t.Oqu(e.license)}}function Ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"label",56),t._uU(2,"C\xe9dula Profesional"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"input",57),t.NdJ("change",function(){t.CHM(e);const o=t.oxw(3).index,c=t.oxw(5);return t.KtG(c.getCedula(o))}),t.qZA(),t._UZ(5,"br"),t.qZA()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw().index;t.xp6(4),t.Q6J("value",e.license)("id","cedula-"+i)}}function Lt(n,a){if(1&n&&(t.TgZ(0,"option",62),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.attributes.name," ")}}function $t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"label",58),t._uU(2,"Producto aplicado"),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"select",59),t.NdJ("change",function(o){t.CHM(e);const c=t.oxw(8);return t.KtG(c.onSelectChange(o,c.vaccinesId))}),t.TgZ(5,"option",60),t._uU(6," Producto"),t.qZA(),t.YNc(7,Lt,2,2,"option",61),t.ALo(8,"async"),t.qZA()()}if(2&n){const e=t.oxw(2).ngIf,i=t.oxw(6);t.xp6(4),t.Q6J("value",e.product),t.xp6(1),t.Q6J("selected",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(8,3,i.productsVaccines$))}}function zt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw(7);return t.KtG(c.cancelInput(o))}),t.TgZ(1,"div",45)(2,"div",46),t._uU(3," Agregar"),t.qZA(),t.TgZ(4,"div",47)(5,"div",48)(6,"div",49)(7,"label",50),t._uU(8,"Fecha de Aplicaci\xf3n "),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"input",51),t.NdJ("change",function(){t.CHM(e);const o=t.oxw().ngIf,c=t.oxw().$implicit,r=t.oxw(5);return t.KtG(r.getDate(c.id,o.applied))}),t.qZA()(),t.YNc(11,Ot,6,2,"div",52),t.YNc(12,$t,9,5,"div",52),t.qZA(),t.TgZ(13,"div",53)(14,"button",54),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,c=t.oxw(5);return t.KtG(c.triggerUpdateVaccine(o.id))}),t._uU(15,"Aplicar"),t.qZA(),t.TgZ(16,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.cancelInput())}),t._uU(17,"Cancelar"),t.qZA()()()()()}if(2&n){const e=t.oxw(7);t.xp6(10),t.Q6J("value",e.date),t.xp6(1),t.Q6J("ngIf",!e.operador),t.xp6(1),t.Q6J("ngIf",!e.operador)}}function Gt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div")(3,"div",23)(4,"div",24)(5,"span",5),t._uU(6),t.qZA(),t._uU(7),t.qZA()(),t.YNc(8,Jt,7,0,"div",25),t.YNc(9,Mt,2,1,"div",26),t.TgZ(10,"div",27)(11,"div")(12,"span",5),t._uU(13," FECHA:"),t.qZA(),t.YNc(14,Yt,2,1,"span",28),t.YNc(15,Vt,2,0,"span",28),t.qZA(),t.TgZ(16,"div")(17,"span",5),t._uU(18," CEDULA:"),t.qZA(),t.YNc(19,St,2,1,"span",28),t.YNc(20,jt,2,0,"span",29),t.qZA()(),t.TgZ(21,"mat-accordion")(22,"mat-expansion-panel")(23,"mat-expansion-panel-header")(24,"mat-panel-title",30),t._uU(25," Historial de vacunaci\xf3n "),t.qZA()(),t.YNc(26,Qt,13,4,"div",31),t.qZA()(),t.YNc(27,zt,18,3,"div",32),t.qZA()(),t.BQk()),2&n){const e=a.ngIf,i=t.oxw(),o=i.index,c=i.$implicit,r=t.oxw(5);t.xp6(6),t.hij(" Vacuna ",o+1,": "),t.xp6(1),t.hij(" ",c.name," "),t.xp6(1),t.Q6J("ngIf",!e.applied),t.xp6(1),t.Q6J("ngIf",e.applied),t.xp6(5),t.Q6J("ngIf",e.date),t.xp6(1),t.Q6J("ngIf",!e.date),t.xp6(4),t.Q6J("ngIf",!r.operador),t.xp6(1),t.Q6J("ngIf",r.operador),t.xp6(6),t.Q6J("ngForOf",e.history),t.xp6(1),t.Q6J("ngIf",!e.applied&&r.showDateInput&&r.selectedVaccineIndex===o)}}function Kt(n,a){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Gt,28,10,"ng-container",0),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(4).ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isVaccineApplied(e.id,i.pet.vaccine_card.applied,i.pet.vaccine_history))}}function Bt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Kt,2,1,"div",20),t.BQk()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngForOf",e.pet.vaccine_card_nested.vaccines)}}function Ht(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div")(2,"div",19),t.YNc(3,Bt,2,1,"ng-container",0),t.qZA()()()),2&n){const e=t.oxw(2).ngIf;t.xp6(3),t.Q6J("ngIf",e.pet.vaccine_card_nested)}}function Rt(n,a){1&n&&(t.TgZ(0,"div",63)(1,"div"),t._UZ(2,"app-dewormer"),t.qZA()())}const Q=function(n){return{active:n}};function Xt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"h1",4)(3,"span",5),t._uU(4," Vacunaci\xf3n de"),t.qZA(),t._uU(5),t.qZA()(),t._UZ(6,"div",6),t.TgZ(7,"div",7)(8,"div",8)(9,"span",9),t._uU(10," Raza"),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA(),t.TgZ(13,"div",10)(14,"span",9),t._uU(15," Tama\xf1o"),t.qZA(),t._UZ(16,"br"),t._uU(17),t.ALo(18,"petSize"),t.qZA(),t.TgZ(19,"div",10)(20,"span",9),t._uU(21," Sexo"),t.qZA(),t._UZ(22,"br"),t._uU(23),t.ALo(24,"petGender"),t.qZA()(),t.TgZ(25,"div",11)(26,"ul",12)(27,"li",13)(28,"a",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.activeTab="tab1",t.KtG(o.loadProductsOnSwitchBack())}),t._uU(29,"Cartilla de Vacunacion"),t.qZA()(),t.TgZ(30,"li",13)(31,"a",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.activeTab="tab2")}),t._uU(32,"Cartilla de Desparacitacion"),t.qZA()()(),t.TgZ(33,"div",15),t.YNc(34,Ht,4,1,"div",16),t.YNc(35,Rt,3,0,"div",17),t.qZA()()()}if(2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(5),t.hij(" ",e.pet_entity.attributes.name," "),t.xp6(7),t.hij(" ",e.pet_entity.attributes.pet_breed.data.attributes.name," "),t.xp6(5),t.hij(" ",t.lcZ(18,8,e.pet_entity.attributes.pet_size)," "),t.xp6(6),t.hij(" ",t.lcZ(24,10,e.pet_entity.attributes.gender)," "),t.xp6(5),t.Q6J("ngClass",t.VKq(12,Q,"tab1"===i.activeTab)),t.xp6(3),t.Q6J("ngClass",t.VKq(14,Q,"tab2"===i.activeTab)),t.xp6(3),t.Q6J("ngIf","tab1"===i.activeTab),t.xp6(1),t.Q6J("ngIf","tab2"===i.activeTab)}}function Wt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Xt,36,16,"div",1),t.BQk()),2&n){const e=a.ngIf;t.xp6(1),t.Q6J("ngIf",e.pet&&e.pet_entity)}}const te=function(n,a){return{pet:n,pet_entity:a}};let ee=(()=>{class n{constructor(e,i,o){this.store=e,this.shared=i,this.App=o,this.faCheckCircle=F.f8k,this.petTypeId=JSON.parse(localStorage.getItem(u.D5.SELECTED_PET)).petTypeId,this.showDateInput=!1,this.operador=!1,this.activeTab="tab1",this.selectedVaccineIndex=null}isVaccineApplied(e,i,o){let c=!1,r="N/A",h=null,m=null,b=[];return i=i.filter(({vaccine:d})=>null!==d),(o=o.filter(({vaccine:d})=>null!==d)).forEach(d=>{d.vaccine.id===e&&b.push({id:d.id,date:d.date,license:d.license,product:d.product.name,vaccine:d.vaccine.name})}),i.forEach(d=>{if(d.vaccine.id===e){c=!0;const v=new Date(d.date).toISOString().split("T")[0].split("-");h=`${v[1]}/${v[2]}/${v[0]}`,null!=d.license&&(r=d.license),null!=d.product&&(m=d.product)}}),{applied:c,date:h,license:r,history:b,product:m}}ngOnInit(){this.setProductId(),this.store.dispatch((0,I.pY)({pet_type_id:this.vaccinesId})),this.productsVaccines$=this.store.select(A.qr).pipe((0,y.U)(e=>e.filter(i=>i.attributes.sub_category.data.id===this.vaccinesId))),this.vaccineCard$=this.store.pipe((0,l.Ys)((n=>(0,l.P1)(M,a=>a.entities[n]))(this.id))),this.pet$=this.store.pipe((0,l.Ys)((0,w.KN)(this.id))),this.store.dispatch((0,k.Dr)({petID:this.id})),this.today(),this.App.onActivate()}getDate(e,i){this.vaccineId=e,this.applied=i}triggerUpdateVaccine(e){this.vaccineId=e;const i=document.getElementById("date");new Date(i.value)>new Date?this.shared.sendAlert("warning","Fecha Inv\xe1lida","Seleccione una fecha pasada."):(this.date=i.value,this.updateVaccine(this.vaccineId,this.applied))}today(){let e=new Date,i=e.getDate(),o=e.getMonth()+1,c=e.getFullYear(),r="";return o<10?(r=c+"-0"+o+"-"+i,this.date=r):(r=c+"-"+o+"-"+i,this.date=r),r}updateVaccine(e,i){if(!i&&!this.date)return this.shared.sendAlert("warning","Formulario Invalido","Por favor, verifique los campos");null==this.product&&(this.product=142),console.log(this.cedula),this.shared.sendConfirmation("info","Modificar cartilla",`\xbfSeguro que desea ${i?"remover":"aplicar"} esta vacuna?`).then(o=>{if(o.isConfirmed){let c={id:this.id,vaccineID:e,remove:i,productId:this.product,cedula:this.cedula,date:this.date,vaccine_card_id:JSON.parse(localStorage.getItem(u.D5.SELECTED_PET)).vaccineCardId};this.store.dispatch((0,k._U)(c)),console.log(c)}this.today(),this.product=null,this.cedula=null,this.showDateInput=!1})}setProductId(){"2"===this.petTypeId?this.vaccinesId=9:"3"===this.petTypeId&&(this.vaccinesId=7),console.log(this.vaccinesId)}onSelectChange(e,i){this.product=e.target.value,console.log(this.product)}getCedula(e){let i=document.getElementById(`cedula-${e}`).value;this.cedula=i,console.log(this.cedula)}dateInputToggle(e,i){this.productsVaccines$.subscribe(o=>{console.log("Products in productsVaccines:",o)}),!0===this.showDateInput?this.showDateInput=!1:!1===this.showDateInput&&(this.date=this.today(),this.showDateInput=!0,this.selectedVaccineIndex=e,this.applied=i,console.log(this.date,this.vaccinesId,this.selectedVaccineIndex,this.applied))}cancelInput(e){if(e){const i=e.target,o=document.getElementById("vaccine-input-container");if(o&&o.contains(i))return void e.stopPropagation()}this.showDateInput=!1}loadProductsOnSwitchBack(){this.store.dispatch((0,I.pY)({pet_type_id:this.vaccinesId})),this.productsVaccines$=this.store.select(A.qr).pipe((0,y.U)(e=>e.filter(i=>i.attributes.sub_category.data.id===this.vaccinesId)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.yh),t.Y36(C.F),t.Y36(x.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-vaccine-card"]],inputs:{id:"id"},decls:3,vars:8,consts:[[4,"ngIf"],["class","content rounded-3xl w-full mt-6 justify-center box-shadow-base ng-star-inserted pb-20",4,"ngIf"],[1,"content","rounded-3xl","w-full","mt-6","justify-center","box-shadow-base","ng-star-inserted","pb-20"],[1,"py-4","px-10","grid","grid-cols-6"],[1,"col-span-6","font-bold","text-center","text-orange-400","text-3xl"],[1,"text-gray-400"],[1,"rounded-3xl","pyc-1","mx-6","h-2","justify-center","box-shadow-base"],[1,"grid","py-4","grid-cols-6","px-10"],[1,"col-span-2","text-left","text-gray-400","pt-2","py-4"],[1,"text-orange-400"],[1,"col-span-2","text-center","text-gray-400","pt-2"],[1,"tabs","mt-4"],[1,"grid","grid-cols-2","vaccine-header"],[1,"mx-1"],[1,"nav-link","vaccine-header-category",3,"ngClass","click"],[1,"tab-content","mt-6"],["class","tab-pane fade show active",4,"ngIf"],["class","tab-pane fade",4,"ngIf"],[1,"tab-pane","fade","show","active"],[1,"grid","md:grid-cols-3","md:gap-10","lg:grid-cols-4","lg:gap-10","grid-cols-1","gap-10","place-items-center","p-3"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"],[1,"w-full","h-66","border-4","content","box-shadow-base","rounded-3xl","p-1"],[1,"grid","grid-cols-1","header-category-items","text-yellow"],[1,"col-span-1","text-lg"],[3,"click",4,"ngIf"],["class","flex h-40 justify-center my-4",3,"click",4,"ngIf"],[1,"grid","grid-cols-2","header-category-items"],["class","ml-1 font-sans text-orange-400 font-light",4,"ngIf"],["id","license","class","ml-1 font-sans text-orange-400 font-light",4,"ngIf"],[1,"text-gray-400","font-bold"],["class","text-gray-400",4,"ngFor","ngForOf"],["class","vaccine-input-back",3,"click",4,"ngIf"],[3,"click"],[1,"p-2","text-orange-300","text-lg","text-center"],[1,"flex","justify-center","items-center","my-6"],[1,"dashed","col-span-1","h-20","w-20","rounded-full","flex","justify-center","items-center"],["src","assets/Grupo 1239.png",1,""],[1,"flex","h-40","justify-center","my-4",3,"click"],[1,"text-lime-500","lg:text-8xl","md:text-7xl","md:mt-3","text-8xl","mt-3",3,"icon"],[1,"ml-1","font-sans","text-orange-400","font-light"],["id","license",1,"ml-1","font-sans","text-orange-400","font-light"],[1,"bg-gray-100","p-3","text-gray-400","rounded-full","block"],[1,"bg-orange-400","p-3","text-white","rounded-full","mx-3"],[1,"vaccine-input-back",3,"click"],["id","vaccine-input-container"],[1,"title"],[1,"vaccine-content"],[1,"grid","sm:grid-cols-1","md:grid-cols-3","lg:grid-cols-3","pt-4","pb-4"],[1,"m-2"],["for","date",1,"text-center","w-full","block"],["type","date","id","date",1,"ml-1","font-sans","text-orange-400","font-light","text-center","w-full","block",3,"value","change"],["class","m-2",4,"ngIf"],[1,"grid","grid-cols-2"],[1,"bg-orange-400",3,"click"],[1,"bg-gray-500",3,"click"],["for","cedula",1,"text-center","w-full","block"],["type","text","placeholder","C\xe9dula",1,"text-center","w-full","block",3,"value","id","change"],["for","product",1,"text-center","w-full","block"],["name","product","type","submit","id","product","formControlName","product",1,"text-input","text-center","w-full","block",3,"value","change"],["value","","disabled","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tab-pane","fade"]],template:function(e,i){1&e&&(t.YNc(0,Wt,2,1,"ng-container",0),t.ALo(1,"async"),t.ALo(2,"async")),2&e&&t.Q6J("ngIf",t.WLB(5,te,t.lcZ(1,1,i.vaccineCard$),t.lcZ(2,3,i.pet$)))},dependencies:[p.mk,p.sg,p.O5,Y.BN,g.pp,g.ib,g.yz,g.yK,j,p.Ov,N,kt],styles:[".dashed[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='100' ry='100' stroke='%23FCAF3DFF' stroke-width='10' stroke-dasharray='5%2c 5' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e\");border-radius:100px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:block;text-align:center}.mat-expansion-indicator[_ngcontent-%COMP%]{border-color:#7fffd4!important}"]}),n})();function ne(n,a){if(1&n&&t._UZ(0,"app-vaccine-card",1),2&n){const e=t.oxw();t.Q6J("id",e.id)}}let ie=(()=>{class n{constructor(){this.id=localStorage.getItem(u.D5.SELECTED_PET_ID)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-vaccine-card-client"]],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"]],template:function(e,i){1&e&&t.YNc(0,ne,1,1,"app-vaccine-card",0),2&e&&t.Q6J("ngIf",!!i.id)},dependencies:[p.O5,ee]}),n})(),O=null!=localStorage.getItem(u.D5.SELECTED_PET_ID)?"list/"+localStorage.getItem(u.D5.SELECTED_PET_ID):"/profile/petslist";const oe=[{path:"",component:gt,children:[{path:"list/:id",component:ut},{path:"vaccine-card/:id",component:ie},{path:"dewormer",component:j},{path:"edit-pet/:id",component:ct},{path:"delete-pet/:id",component:B},{path:"",redirectTo:O,pathMatch:"full"},{path:"**",redirectTo:O}]}];let ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(oe),f.Bz]}),n})();var ce=s(2271);let re=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,ae,ce.m,_.UX,Z.T5]}),n})()}}]);