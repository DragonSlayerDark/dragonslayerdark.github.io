{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { filter, tap } from 'rxjs';\nimport { selectPetById } from 'src/app/store/entities/selectors/pet.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"src/app/auth_services/store/auth.service\";\nimport * as i4 from \"../../../../store/custom/services/app.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../shared/pipes/pet-size.pipe\";\n\nconst _c0 = function (a2) {\n  return [\"/my-pets\", \"vaccine-card\", a2];\n};\n\nconst _c1 = function (a2) {\n  return [\"/my-pets\", \"edit-pet\", a2];\n};\n\nconst _c2 = function (a2) {\n  return [\"/my-pets\", \"delete-pet\", a2];\n};\n\nfunction ListPetsComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"h1\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 9)(8, \"div\", 10)(9, \"span\", 11);\n    i0.ɵɵtext(10, \"Vacunaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"img\", 12);\n    i0.ɵɵelementStart(12, \"span\", 13);\n    i0.ɵɵtext(13, \"75%\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 10)(15, \"span\", 11);\n    i0.ɵɵtext(16, \"Desparasitaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"img\", 14);\n    i0.ɵɵelementStart(18, \"span\", 13);\n    i0.ɵɵtext(19, \"75%\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(20, \"div\", 15);\n    i0.ɵɵelementStart(21, \"div\", 5)(22, \"div\", 16);\n    i0.ɵɵtext(23, \" INFORMACI\\u00D3N GENERAL \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 17)(25, \"div\", 18);\n    i0.ɵɵtext(26, \" Raza \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 19);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 18);\n    i0.ɵɵtext(30, \" Fecha Nac. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 19);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 18);\n    i0.ɵɵtext(35, \" Tama\\u00F1o \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 19);\n    i0.ɵɵtext(37);\n    i0.ɵɵpipe(38, \"petSize\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"div\", 20)(40, \"button\", 21);\n    i0.ɵɵtext(41, \" Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"button\", 22);\n    i0.ɵɵtext(43, \" Borrar/Memorial \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const pet_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", pet_r1.attributes.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Edad - \", ctx_r2.calculatedAge, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c0, pet_r1.id));\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate1(\" \", pet_r1.attributes.pet_breed.data[\"attributes\"].name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(33, 8, pet_r1.attributes.dob, \"dd MMMM yyyy\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(38, 11, pet_r1.attributes.pet_size), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c1, pet_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(17, _c2, pet_r1.id));\n  }\n}\n\nfunction ListPetsComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵelement(2, \"img\", 23);\n    i0.ɵɵelementStart(3, \"h1\", 24);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 16);\n    i0.ɵɵtext(6, \" DESCANSA EN PAZ \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 17)(8, \"div\", 18);\n    i0.ɵɵtext(9, \" Fecha Nac. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 19);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 18);\n    i0.ɵɵtext(14, \" Fecha fallecimiento \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 19);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(18, \"div\", 15);\n    i0.ɵɵelementStart(19, \"div\", 25)(20, \"button\", 26);\n    i0.ɵɵtext(21, \" Editar \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const pet_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", pet_r1.attributes.name, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 4, pet_r1.attributes.dob, \"dd MMMM yyyy\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(17, 7, pet_r1.attributes.fallecimiento, \"dd MMMM yyyy\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c2, pet_r1.id));\n  }\n}\n\nfunction ListPetsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, ListPetsComponent_div_0_div_1_Template, 44, 19, \"div\", 2);\n    i0.ɵɵtemplate(2, ListPetsComponent_div_0_ng_template_2_Template, 22, 12, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pet_r1 = ctx.ngIf;\n\n    const _r3 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pet_r1.attributes.memorial === false || pet_r1.attributes.memorial === null)(\"ngIfElse\", _r3);\n  }\n}\n\nexport let ListPetsComponent = /*#__PURE__*/(() => {\n  class ListPetsComponent {\n    constructor(activeRoute, store, auth, App) {\n      this.activeRoute = activeRoute;\n      this.store = store;\n      this.auth = auth;\n      this.App = App;\n      this.pet$ = null;\n      this.auth.checkPetId();\n    }\n\n    ngOnInit() {\n      this.activeRoute.params.subscribe(({\n        id\n      }) => {\n        this.pet$ = this.store.pipe(select(selectPetById(id)), filter(x => x != null), tap(x => {\n          // x.attributes.dob is the date of birth, format: YYYY-MM-DD, calculate the number of years and store it in this.calculatedYears\n          let years = new Date().getFullYear() - new Date(x.attributes.dob).getFullYear();\n\n          if (years > 0) {\n            this.calculatedAge = years + ' años';\n          } else {\n            let months = new Date().getMonth() - new Date(x.attributes.dob).getMonth();\n\n            if (months > 0) {\n              this.calculatedAge = months + ' meses';\n            } else {\n              let days = new Date().getDate() - new Date(x.attributes.dob).getDate();\n              this.calculatedAge = days + ' días';\n            }\n          }\n        }));\n      });\n      this.App.onActivate();\n    }\n\n  }\n\n  ListPetsComponent.ɵfac = function ListPetsComponent_Factory(t) {\n    return new (t || ListPetsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.AppService));\n  };\n\n  ListPetsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListPetsComponent,\n    selectors: [[\"app-list-pets\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"class\", \"content rounded-3xl w-full mt-6 justify-center box-shadow-base\", 4, \"ngIf\"], [1, \"content\", \"rounded-3xl\", \"w-full\", \"mt-6\", \"justify-center\", \"box-shadow-base\"], [\"class\", \"pt-4 px-1 pb-20\", 4, \"ngIf\", \"ngIfElse\"], [\"memorial\", \"\"], [1, \"pt-4\", \"px-1\", \"pb-20\"], [1, \"px-10\"], [1, \"grid\", \"grid-cols-6\"], [1, \"col-span-3\", \"font-bold\", \"text-center\", \"text-orange-400\", \"text-3xl\"], [1, \"col-span-3\", \"text-center\", \"text-gray-400\", \"pt-2\"], [1, \"grid\", \"grid-cols-2\", \"my-3\", 3, \"routerLink\"], [1, \"grid\", \"items-center\", \"justify-center\"], [1, \"text-gray-400\", \"text-xs\", \"text-center\"], [\"src\", \"assets/icons/vac.svg \", 1, \"outshadow\", \"rounded-full\", \"w-full\", \"p-6\"], [1, \"text-gray-400\", \"text-xs\", \"text-center\", \"my-3\"], [\"src\", \"assets/icons/food.svg \", 1, \"outshadow\", \"rounded-full\", \"w-full\", \"p-6\"], [1, \"rounded-3xl\", \"pyc-1\", \"mx-6\", \"h-2\", \"justify-center\", \"box-shadow-base\"], [1, \"w-full\", \"font-bold\", \"text-gray-400\", \"text-center\", \"text-sm\", \"py-6\"], [1, \"grid\", \"grid-cols-2\", \"gap-2\", \"mb-8\"], [1, \"text-orange-400\"], [1, \"text-gray-400\"], [1, \"grid\", \"grid-cols-2\", \"gap-4\", \"drop-shadow-xl\", \"mx-4\"], [1, \"p-2\", \"text-white\", \"text-sm\", \"bg-orange-400\", \"rounded-full\", \"w-full\", \"outshadow\", 3, \"routerLink\"], [1, \"outshadow\", \"p-2\", \"text-white\", \"text-sm\", \"bg-cyan-400\", \"rounded-full\", \"w-full\", \"outshadow\", 3, \"routerLink\"], [\"src\", \"assets/icons/rippet.svg\", \"alt\", \"\", 1, \"w-full\", \"p-6\", \"pb-2\"], [1, \"col-span-6\", \"font-bold\", \"text-center\", \"text-orange-400\", \"text-3xl\"], [1, \"grid\", \"grid-cols-1\", \"gap-4\", \"mx-4\"], [1, \"p-2\", \"my-4\", \"drop-shadow-xl\", \"text-white\", \"text-sm\", \"bg-orange-400\", \"rounded-full\", \"w-full\", 3, \"routerLink\"]],\n    template: function ListPetsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ListPetsComponent_div_0_Template, 4, 2, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.pet$));\n      }\n    },\n    dependencies: [i5.NgIf, i1.RouterLink, i5.AsyncPipe, i5.DatePipe, i6.PetSizePipe]\n  });\n  return ListPetsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}