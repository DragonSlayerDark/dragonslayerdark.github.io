{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { map } from 'rxjs';\nimport { selectAllOrders } from 'src/app/store/entities/selectors/order.selectors';\nimport { addOrder, loadOrders } from 'src/app/store/entities/actions/order.actions';\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/store/custom/services/socket.service\";\nimport * as i3 from \"src/app/auth_services/store/auth.service\";\nimport * as i4 from \"../../../store/custom/services/app.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../pipes/image.pipe\";\n\nfunction OrdersListComponent_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5)(2, \"span\");\n    i0.ɵɵtext(3, \"No hay ordenes.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"div\", 7);\n    i0.ɵɵelement(6, \"img\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"a\", 9);\n    i0.ɵɵtext(8, \"Realiza un pedido.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    \"border-color\": \"#45B45A\"\n  };\n};\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_div_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 21);\n    i0.ɵɵpipe(1, \"image\");\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(1, 2, order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data[\"attributes\"].url), i0.ɵɵsanitizeUrl)(\"ngStyle\", i0.ɵɵpureFunction0(4, _c0));\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrdersListComponent_ng_container_0_div_4_div_1_div_2_img_1_Template, 2, 5, \"img\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data) != null);\n  }\n}\n\nconst _c1 = function () {\n  return {\n    \"border-color\": \"#b3bdb5\"\n  };\n};\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_div_3_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 21);\n    i0.ɵɵpipe(1, \"image\");\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(1, 2, order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data[\"attributes\"].url), i0.ɵɵsanitizeUrl)(\"ngStyle\", i0.ɵɵpureFunction0(4, _c1));\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrdersListComponent_ng_container_0_div_4_div_1_div_3_img_1_Template, 2, 5, \"img\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].photo.data) != null);\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", order_r5.attributes.pet.data[\"attributes\"].name, \" \");\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵtemplate(2, OrdersListComponent_ng_container_0_div_4_div_1_div_2_Template, 2, 1, \"div\", 0);\n    i0.ɵɵtemplate(3, OrdersListComponent_ng_container_0_div_4_div_1_div_3_Template, 2, 1, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"p\");\n    i0.ɵɵtemplate(6, OrdersListComponent_ng_container_0_div_4_div_1_span_6_Template, 2, 1, \"span\", 16);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8, \" Total: \");\n    i0.ɵɵelementStart(9, \"span\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \" Fecha: \");\n    i0.ɵɵelementStart(14, \"span\", 17);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 18);\n    i0.ɵɵelement(18, \"img\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].memorial) === false || (order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].memorial) === null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r5.attributes.pet.data[\"attributes\"] == null ? null : order_r5.attributes.pet.data[\"attributes\"].memorial) === true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", order_r5.attributes.pet.data != null);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 5, order_r5.attributes.subtotal + order_r5.attributes.tax), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(16, 7, order_r5.attributes.orderDate), \" \");\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵelement(2, \"img\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"p\")(5, \"span\", 22);\n    i0.ɵɵtext(6, \" Mascota Borrada \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8, \" Total: \");\n    i0.ɵɵelementStart(9, \"span\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \" Fecha: \");\n    i0.ɵɵelementStart(14, \"span\", 17);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 18);\n    i0.ɵɵelement(18, \"img\", 19);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const order_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(7, _c0));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 3, order_r5.attributes.subtotal + order_r5.attributes.tax), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(16, 5, order_r5.attributes.orderDate), \" \");\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function OrdersListComponent_ng_container_0_div_4_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.clickedElementEmit(order_r5));\n    });\n    i0.ɵɵtemplate(1, OrdersListComponent_ng_container_0_div_4_div_1_Template, 19, 9, \"div\", 11);\n    i0.ɵɵtemplate(2, OrdersListComponent_ng_container_0_div_4_ng_template_2_Template, 19, 8, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const order_r5 = ctx.$implicit;\n\n    const _r7 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r5.attributes.pet.data != null)(\"ngIfElse\", _r7);\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"button\", 26);\n    i0.ɵɵtext(3, \" Nuevo Pedido \");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction OrdersListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n    i0.ɵɵtemplate(3, OrdersListComponent_ng_container_0_ng_container_3_Template, 9, 0, \"ng-container\", 0);\n    i0.ɵɵtemplate(4, OrdersListComponent_ng_container_0_div_4_Template, 4, 2, \"div\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, OrdersListComponent_ng_container_0_div_5_Template, 4, 0, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", data_r1.orders.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.orders);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.orders.length != 0);\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    orders: a0\n  };\n};\n\nexport let OrdersListComponent = /*#__PURE__*/(() => {\n  class OrdersListComponent {\n    constructor(store, socketService, auth, App) {\n      this.store = store;\n      this.socketService = socketService;\n      this.auth = auth;\n      this.App = App;\n      this.showPendingOrders = false;\n      this.clickedElement = new EventEmitter();\n      this.orders$ = this.store.pipe(select(selectAllOrders), map(x => x.reverse()));\n      this.socketService.socket.on('orders', data => {\n        if (!this.showPendingOrders) {\n          this.store.dispatch(addOrder({\n            order: data\n          }));\n        }\n      });\n    }\n\n    ngOnInit() {\n      this.store.dispatch(loadOrders({\n        // userID: this.auth != null ? this.userID : null, //aqui tengo la duda de por que se usaba el Id obtenido desde el input y no de otra forma\n        userID: this.auth.getUser().id != null ? this.auth.getUser().id : null,\n        pending: this.showPendingOrders\n      }));\n      this.App.onActivate();\n    }\n\n    clickedElementEmit(order) {\n      this.clickedElement.emit(order);\n    }\n\n  }\n\n  OrdersListComponent.ɵfac = function OrdersListComponent_Factory(t) {\n    return new (t || OrdersListComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.SocketService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.AppService));\n  };\n\n  OrdersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrdersListComponent,\n    selectors: [[\"app-orders-list\"]],\n    inputs: {\n      userID: \"userID\",\n      showPendingOrders: \"showPendingOrders\"\n    },\n    outputs: {\n      clickedElement: \"clickedElement\"\n    },\n    decls: 2,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [1, \"content\", \"content-margintop\", \"rounded-3xl\", \"w-full\", \"py-4\", \"my-6\", \"justify-center\", \"box-shadow-base\"], [1, \"p-2\", \"table-auto\", \"w-full\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \" grid grid-cols-12 pr-6 pb-32\", 4, \"ngIf\"], [\"routerLink\", \"/shop\", 1, \"p-2\", \"text-orange-300\", \"text-lg\", \"text-center\"], [1, \"flex\", \"justify-center\", \"items-center\", \"my-6\"], [1, \"dashed\", \"col-span-1\", \"h-20\", \"w-20\", \"rounded-full\", \"flex\", \"justify-center\", \"items-center\"], [\"src\", \"assets/Grupo 1239.png\", 1, \"\"], [2, \"text-decoration\", \"underline\", \"font-weight\", \"bold\"], [3, \"click\"], [\"class\", \"pet-item grid grid-cols-12 pr-6\", 4, \"ngIf\", \"ngIfElse\"], [\"noPet\", \"\"], [1, \"pet-item\", \"grid\", \"grid-cols-12\", \"pr-6\"], [1, \"col-span-4\"], [1, \"mt-3\", \"col-span-7\", \"text-left\"], [\"class\", \" text-purple font-bold\", 4, \"ngIf\"], [1, \"text-gray-400\", \"font-normal\"], [1, \"col-span-1\", \"flex\", \"items-center\", \"justify-center\"], [\"src\", \"assets/arrow-right.svg\", 1, \"w-3\", \"my-auto\", \"relative\"], [\"class\", \"h-20 w-20 rounded-full object-cover border-4 object-top align-middle\", 3, \"src\", \"ngStyle\", 4, \"ngIf\"], [1, \"h-20\", \"w-20\", \"rounded-full\", \"object-cover\", \"border-4\", \"object-top\", \"align-middle\", 3, \"src\", \"ngStyle\"], [1, \"text-purple\", \"font-bold\"], [\"src\", \"assets/icons/petimg.svg\", 1, \"h-20\", \"w-20\", \"rounded-full\", \"object-cover\", \"border-4\", \"object-top\", \"align-middle\", 3, \"ngStyle\"], [1, \"grid\", \"grid-cols-12\", \"pr-6\", \"pb-32\"], [1, \"px-3\", \"pl-10\", \"col-span-12\", \"text-left\"], [\"routerLink\", \"/shop\", 1, \"single_add_button_orange\"]],\n    template: function OrdersListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrdersListComponent_ng_container_0_Template, 6, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction1(3, _c2, i0.ɵɵpipeBind1(1, 1, ctx.orders$)));\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i5.NgStyle, i6.RouterLink, i5.AsyncPipe, i5.CurrencyPipe, i5.DatePipe, i7.ImagePipe],\n    styles: [\"td[_ngcontent-%COMP%]{text-align:center}.dashed[_ngcontent-%COMP%]{background-image:url(\\\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='100' ry='100' stroke='%23FCAF3DFF' stroke-width='10' stroke-dasharray='5%2c 5' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e\\\");border-radius:100px}\"]\n  });\n  return OrdersListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}