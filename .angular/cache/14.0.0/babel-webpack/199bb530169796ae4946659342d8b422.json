{"ast":null,"code":"import { loadAddresses, loadAddressesSuccess } from 'src/app/store/entities/actions/address.actions';\nimport { EventEmitter } from '@angular/core';\nimport { take } from 'rxjs';\nimport { ofType } from '@ngrx/effects';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/auth_services/store/auth.service\";\nimport * as i3 from \"@ngrx/effects\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../profile/list/list-address/list-address.component\";\nimport * as i6 from \"../../profile/create/create-address/create-address.component\";\n\nfunction FormAddressListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-list-address\", 1);\n    i0.ɵɵlistener(\"selectedAddressEvent\", function FormAddressListComponent_ng_container_0_Template_app_list_address_selectedAddressEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectedAddress($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function FormAddressListComponent_ng_container_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      ctx_r4.showCreateAddress = true;\n      return i0.ɵɵresetView(ctx_r4.showAddresses = false);\n    });\n    i0.ɵɵtext(5, \" Agregar nueva direcci\\u00F3n \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"selectAddress\", true);\n  }\n}\n\nfunction FormAddressListComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-create-address\", 5);\n    i0.ɵɵlistener(\"addAddressSuccess\", function FormAddressListComponent_ng_container_1_Template_app_create_address_addAddressSuccess_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      ctx_r5.showCreateAddress = false;\n      return i0.ɵɵresetView(ctx_r5.showAddresses = true);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nexport let FormAddressListComponent = /*#__PURE__*/(() => {\n  class FormAddressListComponent {\n    constructor(store, auth, actions$) {\n      this.store = store;\n      this.auth = auth;\n      this.actions$ = actions$;\n      this.addressSelected = new EventEmitter();\n      this.showAddresses = false;\n      this.showCreateAddress = false;\n    }\n\n    ngOnInit() {\n      this.store.dispatch(loadAddresses({\n        userID: this.auth.getUser().id\n      }));\n      this.actions$.pipe(ofType(loadAddressesSuccess), take(1)).subscribe(({\n        addresses\n      }) => {\n        if (addresses.length != 0) {\n          this.showAddresses = true; // Scroll to top of the window with animation\n        } else {\n          this.showCreateAddress = true;\n        }\n      });\n    }\n\n    selectedAddress(address) {\n      this.addressSelected.emit(address);\n    }\n\n  }\n\n  FormAddressListComponent.ɵfac = function FormAddressListComponent_Factory(t) {\n    return new (t || FormAddressListComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Actions));\n  };\n\n  FormAddressListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormAddressListComponent,\n    selectors: [[\"app-form-address-list\"]],\n    outputs: {\n      addressSelected: \"addressSelected\"\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [3, \"selectAddress\", \"selectedAddressEvent\"], [1, \"grid\", \"grid-cols-12\", \"pr-6\"], [1, \"px-3\", \"pl-10\", \"col-span-12\", \"text-left\"], [1, \"single_add_button_orange\", 3, \"click\"], [3, \"addAddressSuccess\"]],\n    template: function FormAddressListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FormAddressListComponent_ng_container_0_Template, 6, 1, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, FormAddressListComponent_ng_container_1_Template, 2, 0, \"ng-container\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showAddresses);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showCreateAddress);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ListAddressComponent, i6.CreateAddressComponent]\n  });\n  return FormAddressListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}