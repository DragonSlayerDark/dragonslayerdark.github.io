{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { PAWLLocalStorage } from 'src/app/exports/enums';\nimport { deletePet, updatePet } from 'src/app/store/entities/actions/pet.actions';\nimport { filter } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport { selectPetById } from 'src/app/store/entities/selectors/pet.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/modules/shared/shared.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../../store/custom/services/app.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction DeletePetComponent_div_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DeletePetComponent_div_0_div_16_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.memorial(ctx_r4.res = true));\n    });\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 10)(4, \"div\", 11);\n    i0.ɵɵtext(5, \" Memorial \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 12);\n    i0.ɵɵtext(7, \" Perder un amigo es duro conservala siempre en tu recuerdo con este memorial \");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction DeletePetComponent_div_0_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DeletePetComponent_div_0_div_17_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.memorial(ctx_r6.res = false));\n    });\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 10)(4, \"div\", 11);\n    i0.ɵɵtext(5, \" Re-activar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 12);\n    i0.ɵɵtext(7, \" Esta opci\\u00F3n reactiva de nuevo tu mascota remueve el estado Memorial \");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction DeletePetComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h1\", 3)(3, \"span\", 4);\n    i0.ɵɵtext(4, \" Borrar a\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"div\", 5);\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function DeletePetComponent_div_0_Template_div_click_8_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.deletePet());\n    });\n    i0.ɵɵelementStart(9, \"div\", 8);\n    i0.ɵɵelement(10, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 10)(12, \"div\", 11);\n    i0.ɵɵtext(13, \" Eliminar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 12);\n    i0.ɵɵtext(15, \" Esta opci\\u00F3n elimina permanentemente a tu amscota de tu perf\\u00EDl. \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(16, DeletePetComponent_div_0_div_16_Template, 8, 0, \"div\", 13);\n    i0.ɵɵtemplate(17, DeletePetComponent_div_0_div_17_Template, 8, 0, \"div\", 13);\n    i0.ɵɵelementStart(18, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function DeletePetComponent_div_0_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.cancel());\n    });\n    i0.ɵɵtext(19, \"Cancelar\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const pet_r1 = ctx.ngIf;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", pet_r1.attributes.name, \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", pet_r1.attributes.memorial === false || pet_r1.attributes.memorial === null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pet_r1.attributes.memorial === true || pet_r1.attributes.memorial === null);\n  }\n}\n\nexport let DeletePetComponent = /*#__PURE__*/(() => {\n  class DeletePetComponent {\n    constructor(store, shared, activeRoute, router, App) {\n      this.store = store;\n      this.shared = shared;\n      this.activeRoute = activeRoute;\n      this.router = router;\n      this.App = App;\n      this.pet$ = null;\n      this.petId = localStorage.getItem(PAWLLocalStorage.SELECTED_PET_ID);\n    }\n\n    ngOnInit() {\n      this.App.onActivate();\n      this.activeRoute.params.subscribe(({\n        id\n      }) => {\n        this.pet$ = this.store.pipe(select(selectPetById(id)), filter(x => x != null));\n      });\n    }\n\n    deletePet() {\n      this.shared.sendConfirmation('warning', 'Atencion', 'Esta mascota sera eliminada de forma permanente').then(res => {\n        if (res.isConfirmed) {\n          this.store.dispatch(deletePet({\n            id: this.petId\n          }));\n        } else if (res.dismiss || res.isDenied) {\n          const Swal3 = Swal.mixin({\n            customClass: {\n              container: 'swalcontainer',\n              popup: 'swalpopup',\n              title: 'swaltitle',\n              confirmButton: 'swalbutton swalaccept',\n              cancelButton: 'swalbutton swalcnl'\n            },\n            buttonsStyling: false\n          });\n          Swal3.fire('Eliminar cancelado');\n        }\n      });\n    }\n\n    memorial(res) {\n      this.store.dispatch(updatePet({\n        pet: {\n          id: this.petId,\n          memorial: res,\n          fallecimiento: new Date()\n        }\n      }));\n    }\n\n    cancel() {\n      this.router.navigate(['/my-pets', 'list']);\n    }\n\n  }\n\n  DeletePetComponent.ɵfac = function DeletePetComponent_Factory(t) {\n    return new (t || DeletePetComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AppService));\n  };\n\n  DeletePetComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DeletePetComponent,\n    selectors: [[\"app-delete-pet\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"class\", \"content rounded-3xl w-full mt-6 justify-center box-shadow-base\", 4, \"ngIf\"], [1, \"content\", \"rounded-3xl\", \"w-full\", \"mt-6\", \"justify-center\", \"box-shadow-base\"], [1, \"py-4\", \"px-10\", \"grid\", \"grid-cols-6\"], [1, \"col-span-6\", \"font-bold\", \"text-center\", \"text-orange-400\", \"text-3xl\"], [1, \"text-gray-400\"], [1, \"rounded-3xl\", \"pyc-1\", \"mx-6\", \"h-2\", \"justify-center\", \"box-shadow-base\"], [1, \"pt-4\", \"px-11\"], [1, \"grid\", \"grid-cols-4\", \"my-10\", \"mt-8\", \"cursor-pointer\", 3, \"click\"], [1, \"flex\", \"justify-center\", \"items-center\", \"object-top\", \"rounded-full\", \"h-16\", \"w-16\", \"col-span-1\"], [\"src\", \"assets\\\\icons\\\\delete.svg\", 1, \"w-20\", \"h-20\", \"rounded-full\", \"absolute\"], [1, \"col-span-3\"], [1, \"font-bold\", \"text-lg\", \"text-orange\"], [1, \"text-gray-400\", \"text-sm\"], [\"class\", \"grid grid-cols-4 my-10 mt-8 cursor-pointer\", 3, \"click\", 4, \"ngIf\"], [1, \"w-full\", \"p-2\", \"bg-gray-500\", \"text-white\", \"font-bold\", \"rounded-full\", \"mb-12\", 3, \"click\"], [\"src\", \"assets\\\\icons\\\\memorial.svg\", 1, \"w-20\", \"h-20\", \"rounded-full\", \"absolute\"], [\"src\", \"assets\\\\icons\\\\activate.svg\", 1, \"w-20\", \"h-20\", \"rounded-full\", \"absolute\"]],\n    template: function DeletePetComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DeletePetComponent_div_0_Template, 20, 3, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.pet$));\n      }\n    },\n    dependencies: [i5.NgIf, i5.AsyncPipe],\n    styles: [\".perro[_ngcontent-%COMP%]{border-radius:100px!important;min-height:800px!important}\"]\n  });\n  return DeletePetComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}