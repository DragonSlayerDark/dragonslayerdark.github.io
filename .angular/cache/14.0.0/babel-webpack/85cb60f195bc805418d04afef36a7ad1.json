{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { PAWLLocalStorage } from 'src/app/exports/enums';\nimport { addProductsToCart } from 'src/app/store/custom/actions/cart.actions';\nimport { loadProduct } from 'src/app/store/entities/actions/product.actions';\nimport { selectProductById } from 'src/app/store/entities/selectors/product.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../../../../store/custom/services/app.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../../shared/pipes/image.pipe\";\n\nfunction ProductComponent_ng_container_0_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 9)(2, \"div\", 10);\n    i0.ɵɵelement(3, \"img\", 11);\n    i0.ɵɵpipe(4, \"image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 12)(6, \"div\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 14);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 15);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 16);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"span\", 17);\n    i0.ɵɵelementStart(16, \"div\", 18)(17, \"div\", 19);\n    i0.ɵɵtext(18, \" Cantidad \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 19);\n    i0.ɵɵtext(20, \" Tama\\u00F1o \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 20)(22, \"div\", 19)(23, \"div\", 21)(24, \"div\", 22)(25, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProductComponent_ng_container_0_div_14_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.counter(\"subtract\"));\n    });\n    i0.ɵɵtext(26, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 24)(28, \"span\", 25);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 26)(31, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProductComponent_ng_container_0_div_14_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.counter(\"add\"));\n    });\n    i0.ɵɵtext(32, \"+\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"div\", 27)(34, \"span\", 28);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(36, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ProductComponent_ng_container_0_div_14_Template_button_click_37_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const product_r3 = restoredCtx.ngIf;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.addToCart(product_r3));\n    });\n    i0.ɵɵtext(38, \"Agregar a carrito\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const product_r3 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(4, 7, product_r3.attributes[\"image\"].data == null ? null : product_r3.attributes[\"image\"].data.attributes == null ? null : product_r3.attributes[\"image\"].data.attributes.url), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", product_r3.attributes.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", product_r3.attributes.brand, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 9, product_r3.attributes.subtotal), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", product_r3.attributes.fullDescription, \" \");\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.quantity, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", product_r3.attributes.size, \" \");\n  }\n}\n\nfunction ProductComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵelement(6, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 4);\n    i0.ɵɵelement(10, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 8);\n    i0.ɵɵtemplate(14, ProductComponent_ng_container_0_div_14_Template, 39, 11, \"div\", 0);\n    i0.ɵɵpipe(15, \"async\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r1.attributes.pet_type.data[\"attributes\"].name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r1.attributes.category.data[\"attributes\"].name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r1.attributes.sub_category.data[\"attributes\"].name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(15, 4, ctx_r0.selectedProductID && ctx_r0.product$));\n  }\n}\n\nexport let ProductComponent = /*#__PURE__*/(() => {\n  class ProductComponent {\n    constructor(store, App) {\n      this.store = store;\n      this.App = App;\n      this.quantity = 0;\n      this.selectedProductID = localStorage.getItem(PAWLLocalStorage.SELECTED_PRODUCT_ID);\n      this.selectedPetTypeName = localStorage.getItem('selectedPetTypeName');\n      this.selectedCategoryName = localStorage.getItem('selectedCategoryName');\n      this.selectedSubCategoryName = localStorage.getItem('selectedSubCategoryName');\n      this.product$ = this.store.pipe(select(selectProductById(this.selectedProductID)));\n    }\n\n    ngOnInit() {\n      this.store.dispatch(loadProduct({\n        id: this.selectedProductID\n      }));\n      this.App.onActivate();\n    }\n\n    counter(counter) {\n      // (counter === 'add') ? this.quantity++ : this.quantity-- ;\n      if (counter === 'add') {\n        this.quantity++;\n      } else if (counter === 'subtract' && this.quantity > 0) {\n        this.quantity--;\n      }\n    }\n\n    addToCart(product) {\n      if (this.quantity != 0) {\n        this.store.dispatch(addProductsToCart({\n          product,\n          quantity: this.quantity\n        }));\n        this.quantity = 0;\n      } else if (this.quantity === 0) {\n        this.store.dispatch(addProductsToCart({\n          product,\n          quantity: 1\n        }));\n      }\n    }\n\n  }\n\n  ProductComponent.ɵfac = function ProductComponent_Factory(t) {\n    return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.AppService));\n  };\n\n  ProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductComponent,\n    selectors: [[\"app-product\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"content\", \"content-margintop\", \"rounded-3xl\", \"w-full\", \"pt-6\", \"pb-24\", \"justify-center\", \"box-shadow-base\"], [1, \"header-category-items\", \"text-lg\", \"grid\", \"grid-cols-11\"], [\"routerLink\", \"/shop/categories\", 1, \"col-span-3\", \"text-blue\"], [1, \"col-span-1\", \"text-blue\"], [\"src\", \"assets/arrow-right.svg\", 1, \"mx-auto\", \"relative\"], [\"routerLink\", \"/shop/sub-categories\", 1, \"col-span-3\", \"text-blue\"], [\"routerLink\", \"/shop/sub-products\", 1, \"col-span-3\", \"text-yellow\"], [1, \"p-5\", \"grid\", \"grid-cols-1\", \"gap-4\"], [1, \"grid\", \"grid-cols-1\", \"px-6\", \"py-6\"], [1, \"col-span-1\", \"flex\", \"flex-col\", \"text-center\"], [1, \"m-auto\", \"h-32\", \"w-32\", \"object-cover\", 3, \"src\"], [1, \"grid\", \"grid-cols-1\", \"flex\", \"flex-col\", \"p-3\"], [1, \"col-span-1\", \"text-lg\", \"text-center\", \"text-purple\", \"font-bold\", \"mt-3\"], [1, \"col-span-1\", \"text-center\", \"text-gray-400\"], [1, \"col-span-1\", \"text-2xl\", \"text-center\", \"text-orange\", \"font-bold\", \"mb-3\"], [1, \"col-span-1\", \"text-center\", \"text-gray-400\", \"mb-6\"], [1, \"divider\", \"w-full\", \"mx-auto\", \"h-2\", \"block\", \"rounded-lg\"], [1, \"grid\", \"grid-cols-2\", \"mt-4\", \"text-center\", \"font-bold\", \"text-gray-400\"], [1, \"col-span-1\"], [1, \"grid\", \"grid-cols-2\", \"my-5\"], [1, \"grid\", \"grid-cols-6\", \"shadow-lg\", \"rounded-full\"], [1, \"col-span-2\", \"modify_cart_button\", \"rounded-l-full\"], [1, \"p-2\", \"text-white\", 3, \"click\"], [1, \"col-span-2\", \"text-orange\", \"text-center\", \"font-bold\", \"text-md\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-center\"], [1, \"col-span-2\", \"modify_cart_button\", \"rounded-r-full\"], [1, \"col-span-1\", \"text-center\"], [1, \"my-2\", \"text-orange\", \"text-lg\", \"w-full\", \"text-center\", \"font-bold\"], [1, \"single_add_button\", \"mt-6\", 3, \"click\"]],\n    template: function ProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductComponent_ng_container_0_Template, 16, 6, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    dependencies: [i3.NgIf, i4.RouterLink, i3.AsyncPipe, i3.CurrencyPipe, i5.ImagePipe]\n  });\n  return ProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}