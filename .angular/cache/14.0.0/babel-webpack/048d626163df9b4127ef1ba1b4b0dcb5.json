{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { PAWLLocalStorage } from 'src/app/exports/enums';\nimport { loadProductsById } from 'src/app/store/entities/actions/product.actions';\nimport { selectAllProducts } from 'src/app/store/entities/selectors/product.selectors';\nimport { addProductToCart } from 'src/app/store/custom/actions/cart.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../../store/custom/services/app.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/pipes/image.pipe\";\n\nfunction SubProductListComponent_ng_container_0_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function SubProductListComponent_ng_container_0_div_14_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.selectProduct(item_r3.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelement(3, \"img\", 12);\n    i0.ɵɵpipe(4, \"image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 13)(6, \"span\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 15);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 16);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 17);\n    i0.ɵɵelement(13, \"img\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\")(15, \"div\", 19)(16, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function SubProductListComponent_ng_container_0_div_14_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.addToCart(item_r3));\n    });\n    i0.ɵɵtext(17, \"Agregar a Carrito\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(18, \"span\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(4, 4, item_r3.attributes[\"image\"].data == null ? null : item_r3.attributes[\"image\"].data.attributes == null ? null : item_r3.attributes[\"image\"].data.attributes.url), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", item_r3.attributes.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r3.attributes.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r3.attributes.subtotal, \"\");\n  }\n}\n\nfunction SubProductListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵelement(6, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 4);\n    i0.ɵɵelement(10, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 8);\n    i0.ɵɵtemplate(14, SubProductListComponent_ng_container_0_div_14_Template, 19, 6, \"div\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedPetTypeName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedCategoryName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedSubCategoryName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.products);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    products: a0\n  };\n};\n\nexport let SubProductListComponent = /*#__PURE__*/(() => {\n  class SubProductListComponent {\n    constructor(store, router, App) {\n      this.store = store;\n      this.router = router;\n      this.App = App;\n      this.selectedPetTypeName = localStorage.getItem('selectedPetTypeName');\n      this.selectedCategoryName = localStorage.getItem('selectedCategoryName');\n      this.selectedSubCategoryName = localStorage.getItem('selectedSubCategoryName');\n      this.products$ = this.store.pipe(select(selectAllProducts));\n    }\n\n    ngOnInit() {\n      this.App.onActivate();\n      let selectedSubCategoryID = localStorage.getItem(PAWLLocalStorage.SELECTED_SUBCATEGORY_ID);\n      this.store.dispatch(loadProductsById({\n        pet_type_id: selectedSubCategoryID\n      }));\n    }\n\n    selectProduct(id) {\n      localStorage.setItem('selectedProductID', id + \"\");\n      this.router.navigate(['/shop', 'product']);\n    }\n\n    addToCart(product) {\n      this.store.dispatch(addProductToCart({\n        product\n      }));\n    }\n\n  }\n\n  SubProductListComponent.ɵfac = function SubProductListComponent_Factory(t) {\n    return new (t || SubProductListComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AppService));\n  };\n\n  SubProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SubProductListComponent,\n    selectors: [[\"app-sub-product-list\"]],\n    decls: 2,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [1, \"content\", \"content-margintop\", \"rounded-3xl\", \"w-full\", \"pt-6\", \"pb-24\", \"justify-center\", \"box-shadow-base\"], [1, \"header-category-items\", \"text-lg\", \"grid\", \"grid-cols-11\"], [\"routerLink\", \"/shop/categories\", 1, \"col-span-3\", \"text-blue\"], [1, \"col-span-1\", \"text-blue\"], [\"src\", \"assets/arrow-right.svg\", 1, \"mx-auto\", \"relative\"], [\"routerLink\", \"/shop/sub-categories\", 1, \"col-span-3\", \"text-blue\"], [1, \"col-span-3\", \"text-yellow\"], [1, \"mt-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"grid\", \"grid-cols-12\", \"px-6\", \"py-6\", 3, \"click\"], [1, \"col-span-3\", \"flex\", \"flex-col\", \"text-center\"], [1, \"m-auto\", \"h-32\", \"w-32\", \"object-cover\", 3, \"src\"], [1, \"col-span-8\", \"flex\", \"flex-col\", \"p-3\", \"px-4\"], [1, \"text-purple\", \"font-bold\"], [1, \"my-2\", \"text-gray-500\", \"text-xs\"], [1, \"text-orange\", \"font-bold\", \"text-xl\"], [1, \"col-span-1\", \"flex\", \"justify-center\", \"font-bold\"], [\"src\", \"assets/arrow-right.svg\", 1, \"w-3\", \"my-auto\", \"relative\"], [1, \"w-3/4\", \"mx-auto\", \"mb-8\"], [1, \"single_add_button\", 3, \"click\"], [1, \"divider\", \"w-11/12\", \"mx-auto\", \"h-2\", \"block\", \"rounded-lg\"]],\n    template: function SubProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SubProductListComponent_ng_container_0_Template, 15, 4, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction1(3, _c0, i0.ɵɵpipeBind1(1, 1, ctx.products$)));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink, i4.AsyncPipe, i5.ImagePipe]\n  });\n  return SubProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}