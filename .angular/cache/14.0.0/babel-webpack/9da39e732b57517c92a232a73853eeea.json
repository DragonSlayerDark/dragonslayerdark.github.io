{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { addProductToCart } from 'src/app/store/custom/actions/cart.actions';\nimport { loadPetTypes } from 'src/app/store/entities/actions/pet-type.actions';\nimport { loadProducts, loadProductsByPetTypeId } from 'src/app/store/entities/actions/product.actions';\nimport { selectAllPetTypes } from 'src/app/store/entities/selectors/pet-type.selectors';\nimport { selectAllProducts } from 'src/app/store/entities/selectors/product.selectors';\nimport { PAWLLocalStorage } from 'src/app/exports/enums';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../../store/custom/services/app.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/advertising/advertising.component\";\nimport * as i6 from \"../../../shared/pipes/image.pipe\";\n\nfunction ProductListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_7_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.selectPetType(item_r2.id, item_r2.attributes.name));\n    });\n    i0.ɵɵelement(1, \"img\", 16);\n    i0.ɵɵpipe(2, \"image\");\n    i0.ɵɵelementStart(3, \"span\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(2, 2, item_r2.attributes.icon.data == null ? null : item_r2.attributes.icon.data.attributes == null ? null : item_r2.attributes.icon.data.attributes.url), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.attributes.name);\n  }\n}\n\nfunction ProductListComponent_ng_container_20_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 21);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_ng_container_20_div_2_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const item_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.selectProduct(item_r9.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 22);\n    i0.ɵɵelement(3, \"img\", 23);\n    i0.ɵɵpipe(4, \"image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 24)(6, \"span\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 26);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 27);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 28);\n    i0.ɵɵelement(13, \"img\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\")(15, \"div\", 30)(16, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_ng_container_20_div_2_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const item_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.addToCart(item_r9));\n    });\n    i0.ɵɵtext(17, \"Agregar a Carrito\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(18, \"span\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(4, 4, item_r9.attributes[\"image\"].data == null ? null : item_r9.attributes[\"image\"].data.attributes == null ? null : item_r9.attributes[\"image\"].data.attributes.url), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", item_r9.attributes.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r9.attributes.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r9.attributes.subtotal, \" \");\n  }\n}\n\nfunction ProductListComponent_ng_container_20_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_ng_container_20_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.previousPage());\n    });\n    i0.ɵɵtext(1, \" < Anterior\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductListComponent_ng_container_20_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_ng_container_20_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.nextPage());\n    });\n    i0.ɵɵtext(1, \"Siguiente >\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductListComponent_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵtemplate(2, ProductListComponent_ng_container_20_div_2_Template, 19, 6, \"div\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19);\n    i0.ɵɵtemplate(4, ProductListComponent_ng_container_20_button_4_Template, 2, 0, \"button\", 20);\n    i0.ɵɵtemplate(5, ProductListComponent_ng_container_20_button_5_Template, 2, 0, \"button\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const data_r5 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", data_r5.products);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.pageNumber != 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r5.products.length >= 10);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    products: a0\n  };\n};\n\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(store, router, App) {\n      var _a;\n\n      this.store = store;\n      this.router = router;\n      this.App = App;\n      this.pageNumber = 1;\n      this.selectedPetTypeID = (_a = JSON.parse(localStorage.getItem(PAWLLocalStorage.SELECTED_PET))) === null || _a === void 0 ? void 0 : _a.petTypeId;\n      this.selectedPetId = localStorage.getItem(PAWLLocalStorage.SELECTED_PET_ID);\n      this.products = this.store.pipe(select(selectAllProducts));\n      this.petTypes$ = this.store.pipe(select(selectAllPetTypes));\n    }\n\n    ngOnInit() {\n      this.App.onActivate();\n      this.store.dispatch(loadPetTypes());\n\n      if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) === null) {\n        return this.store.dispatch(loadProducts({\n          page: 1\n        }));\n      } else if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) != null) {\n        return this.store.dispatch(loadProductsByPetTypeId({\n          pet_type_id: this.selectedPetTypeID,\n          page: this.pageNumber\n        }));\n      }\n    }\n\n    addToCart(product) {\n      this.store.dispatch(addProductToCart({\n        product\n      }));\n    }\n\n    previousPage() {\n      if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) === null) {\n        return this.store.dispatch(loadProducts({\n          page: --this.pageNumber\n        }));\n      } else if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) != null) {\n        return this.store.dispatch(loadProductsByPetTypeId({\n          pet_type_id: this.selectedPetTypeID,\n          page: --this.pageNumber\n        }));\n      }\n    }\n\n    nextPage() {\n      if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) === null) {\n        return this.store.dispatch(loadProducts({\n          page: ++this.pageNumber\n        }));\n      } else if (localStorage.getItem(PAWLLocalStorage.SELECTED_PET) != null) {\n        return this.store.dispatch(loadProductsByPetTypeId({\n          pet_type_id: this.selectedPetTypeID,\n          page: ++this.pageNumber\n        }));\n      }\n    }\n\n    selectPetType(id, name) {\n      localStorage.setItem('selectedPetTypeID', id + \"\");\n      localStorage.setItem('selectedPetTypeName', name);\n      this.router.navigate(['/shop', 'categories']);\n    }\n\n    selectProduct(id) {\n      localStorage.setItem('selectedProductID', id + \"\");\n      this.router.navigate(['/shop', 'product']);\n    }\n\n  }\n\n  ProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n    return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AppService));\n  };\n\n  ProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductListComponent,\n    selectors: [[\"app-product-list\"]],\n    decls: 22,\n    vars: 8,\n    consts: [[1, \"content\", \"rounded-3xl\", \"w-full\", \"pt-6\", \"pb-24\", \"justify-center\", \"box-shadow-base\", 2, \"margin-top\", \"-60px\"], [1, \"grid\", \"grid-cols-12\"], [1, \"flex\", \"justify-center\", \"col-span-1\"], [\"src\", \"assets/carrousel-left-arrow.svg\", 1, \"w-6/12\", \"my-auto\", \"relative\"], [1, \"col-span-10\"], [1, \"flex\", \"overflow-x-auto\", \"my-3\", \"mt-4\", \"scrollbar-hide\"], [\"class\", \" flex-shrink-0  mx-3 grid items-center justify-center\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-shrink-0\", \"mx-6\", \"grid\", \"items-center\", \"justify-center\"], [\"src\", \"assets/icons/store.svg \", 1, \"outshadow\", \"rounded-full\", \"w-20\", \"h-20\"], [1, \"text-blue\", \"text-xs\", \"text-center\", \"my-3\", \"font-bold\"], [\"src\", \"assets/carrousel-right-arrow.svg\", 1, \"w-6/12\", \"my-auto\", \"relative\"], [1, \"w-full\", \"text-center\", \"p-4\", \"shadow-inner\", \"text-gray-400\", \"font-bold\"], [1, \"text-purple\"], [1, \"divider\", \"w-full\", \"mx-auto\", \"h-2\", \"block\", \"rounded-lg\"], [4, \"ngIf\"], [1, \"flex-shrink-0\", \"mx-3\", \"grid\", \"items-center\", \"justify-center\", 3, \"click\"], [1, \"w-20\", \"h-20\", \"outshadow\", \"rounded-full\", 3, \"src\"], [1, \"p-5\", \"grid\", \"grid-cols-1\", \"sm:grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"justify-between\", \"p-10\"], [\"class\", \"p-2 text-white text-sm bg-orange-400 rounded-full w-2/6 outshadow\", 3, \"click\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-12\", \"px-6\", \"pt-6\", \"pb-2\", 3, \"click\"], [1, \"col-span-3\", \"flex\", \"flex-col\", \"text-center\"], [1, \"m-auto\", \"h-32\", \"w-32\", \"object-cover\", 3, \"src\"], [1, \"col-span-8\", \"flex\", \"flex-col\", \"p-3\", \"px-4\"], [1, \"text-purple\", \"font-bold\"], [1, \"my-2\", \"text-gray-500\", \"text-xs\"], [1, \"text-orange\", \"font-bold\", \"text-xl\"], [1, \"col-span-1\", \"flex\", \"justify-center\", \"font-bold\"], [\"src\", \"assets/arrow-right.svg\", 1, \"w-3\", \"my-auto\", \"relative\", \"max-w-md\"], [1, \"w-3/4\", \"mx-auto\", \"mb-8\"], [1, \"single_add_button\", 3, \"click\"], [1, \"divider\", \"w-11/12\", \"mx-auto\", \"h-2\", \"block\", \"rounded-lg\"], [1, \"p-2\", \"text-white\", \"text-sm\", \"bg-orange-400\", \"rounded-full\", \"w-2/6\", \"outshadow\", 3, \"click\"]],\n    template: function ProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"app-advertising\");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5);\n        i0.ɵɵtemplate(7, ProductListComponent_div_7_Template, 5, 4, \"div\", 6);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelement(10, \"img\", 8);\n        i0.ɵɵelementStart(11, \"span\", 9);\n        i0.ɵɵtext(12, \"Tienda Completa\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(13, \"div\", 2);\n        i0.ɵɵelement(14, \"img\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 11);\n        i0.ɵɵtext(16, \" Productos para \");\n        i0.ɵɵelementStart(17, \"span\", 12);\n        i0.ɵɵtext(18, \" Tu mascota\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(19, \"span\", 13);\n        i0.ɵɵtemplate(20, ProductListComponent_ng_container_20_Template, 6, 3, \"ng-container\", 14);\n        i0.ɵɵpipe(21, \"async\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 2, ctx.petTypes$));\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction1(6, _c0, i0.ɵɵpipeBind1(21, 4, ctx.products)));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.AdvertisingComponent, i4.AsyncPipe, i6.ImagePipe]\n  });\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}